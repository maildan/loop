{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/user/loop/loop/src/renderer/stores/useStructureStore.ts"],"sourcesContent":["// üî• Ïä§ÌÜ†Î¶¨ Íµ¨Ï°∞ Í∏ÄÎ°úÎ≤å Ïä§ÌÜ†Ïñ¥ - Zustand + ÏßÄÏÜçÏÑ±\n\nimport { create } from 'zustand';\nimport { persist, createJSONStorage } from 'zustand/middleware';\nimport { ProjectStructure } from '../../shared/types';\n\ninterface StructureStore {\n    structures: Record<string, ProjectStructure[]>; // projectIdÎ•º ÌÇ§Î°ú ÌïòÎäî Íµ¨Ï°∞Îì§\n    currentEditor: {\n        projectId: string;\n        editorType: 'chapter' | 'synopsis' | 'idea' | 'notes' | 'characters' | 'structure';\n        itemId?: string;\n        itemTitle?: string;\n    } | null;\n\n    // üî• Ïï°ÏÖòÎì§\n    setStructures: (projectId: string, structures: ProjectStructure[]) => void;\n    addStructureItem: (projectId: string, item: ProjectStructure) => void;\n    updateStructureItem: (projectId: string, itemId: string, updates: Partial<ProjectStructure>) => void;\n    deleteStructureItem: (projectId: string, itemId: string) => void;\n    reorderStructures: (projectId: string, newOrder: ProjectStructure[]) => void;\n\n    // üî• ÏóêÎîîÌÑ∞ ÏÉÅÌÉú Í¥ÄÎ¶¨\n    setCurrentEditor: (editor: StructureStore['currentEditor']) => void;\n    clearCurrentEditor: () => void;\n}\n\nexport const useStructureStore = create<StructureStore>()(\n    persist(\n        (set, get) => ({\n            structures: {},\n            currentEditor: null,\n\n            // üî• Íµ¨Ï°∞ ÏÑ§Ï†ï\n            setStructures: (projectId, structures) =>\n                set((state) => ({\n                    structures: {\n                        ...state.structures,\n                        [projectId]: structures,\n                    },\n                })),\n\n            // üî• Íµ¨Ï°∞ ÏïÑÏù¥ÌÖú Ï∂îÍ∞Ä\n            addStructureItem: (projectId, item) =>\n                set((state) => ({\n                    structures: {\n                        ...state.structures,\n                        [projectId]: [...(state.structures[projectId] || []), item],\n                    },\n                })),\n\n            // üî• Íµ¨Ï°∞ ÏïÑÏù¥ÌÖú ÏóÖÎç∞Ïù¥Ìä∏\n            updateStructureItem: (projectId, itemId, updates) =>\n                set((state) => ({\n                    structures: {\n                        ...state.structures,\n                        [projectId]: (state.structures[projectId] || []).map((item) =>\n                            item.id === itemId ? { ...item, ...updates, updatedAt: new Date() } : item\n                        ),\n                    },\n                })),\n\n            // üî• Íµ¨Ï°∞ ÏïÑÏù¥ÌÖú ÏÇ≠Ï†ú\n            deleteStructureItem: (projectId, itemId) =>\n                set((state) => ({\n                    structures: {\n                        ...state.structures,\n                        [projectId]: (state.structures[projectId] || []).filter((item) => item.id !== itemId),\n                    },\n                })),\n\n            // üî• Íµ¨Ï°∞ ÏàúÏÑú Î≥ÄÍ≤Ω\n            reorderStructures: (projectId, newOrder) =>\n                set((state) => ({\n                    structures: {\n                        ...state.structures,\n                        [projectId]: newOrder,\n                    },\n                })),\n\n            // üî• ÌòÑÏû¨ ÏóêÎîîÌÑ∞ ÏÑ§Ï†ï\n            setCurrentEditor: (editor) =>\n                set({ currentEditor: editor }),\n\n            // üî• ÌòÑÏû¨ ÏóêÎîîÌÑ∞ Ï¥àÍ∏∞Ìôî\n            clearCurrentEditor: () =>\n                set({ currentEditor: null }),\n        }),\n        {\n            name: 'loop-structure-store', // localStorage ÌÇ§\n            storage: createJSONStorage(() => localStorage),\n            partialize: (state) => ({\n                structures: state.structures,\n                currentEditor: state.currentEditor,\n            }),\n        }\n    )\n);\n\nexport default useStructureStore;\n"],"names":[],"mappings":"AAAA,oCAAoC;;;;;AAEpC;AACA;;;AAwBO,MAAM,oBAAoB,CAAA,GAAA,wIAAA,CAAA,SAAM,AAAD,IAClC,CAAA,GAAA,6IAAA,CAAA,UAAO,AAAD,EACF,CAAC,KAAK,MAAQ,CAAC;QACX,YAAY,CAAC;QACb,eAAe;QAEf,WAAW;QACX,eAAe,CAAC,WAAW,aACvB,IAAI,CAAC,QAAU,CAAC;oBACZ,YAAY;wBACR,GAAG,MAAM,UAAU;wBACnB,CAAC,UAAU,EAAE;oBACjB;gBACJ,CAAC;QAEL,eAAe;QACf,kBAAkB,CAAC,WAAW,OAC1B,IAAI,CAAC,QAAU,CAAC;oBACZ,YAAY;wBACR,GAAG,MAAM,UAAU;wBACnB,CAAC,UAAU,EAAE;+BAAK,MAAM,UAAU,CAAC,UAAU,IAAI,EAAE;4BAAG;yBAAK;oBAC/D;gBACJ,CAAC;QAEL,iBAAiB;QACjB,qBAAqB,CAAC,WAAW,QAAQ,UACrC,IAAI,CAAC,QAAU,CAAC;oBACZ,YAAY;wBACR,GAAG,MAAM,UAAU;wBACnB,CAAC,UAAU,EAAE,CAAC,MAAM,UAAU,CAAC,UAAU,IAAI,EAAE,EAAE,GAAG,CAAC,CAAC,OAClD,KAAK,EAAE,KAAK,SAAS;gCAAE,GAAG,IAAI;gCAAE,GAAG,OAAO;gCAAE,WAAW,IAAI;4BAAO,IAAI;oBAE9E;gBACJ,CAAC;QAEL,eAAe;QACf,qBAAqB,CAAC,WAAW,SAC7B,IAAI,CAAC,QAAU,CAAC;oBACZ,YAAY;wBACR,GAAG,MAAM,UAAU;wBACnB,CAAC,UAAU,EAAE,CAAC,MAAM,UAAU,CAAC,UAAU,IAAI,EAAE,EAAE,MAAM,CAAC,CAAC,OAAS,KAAK,EAAE,KAAK;oBAClF;gBACJ,CAAC;QAEL,cAAc;QACd,mBAAmB,CAAC,WAAW,WAC3B,IAAI,CAAC,QAAU,CAAC;oBACZ,YAAY;wBACR,GAAG,MAAM,UAAU;wBACnB,CAAC,UAAU,EAAE;oBACjB;gBACJ,CAAC;QAEL,eAAe;QACf,kBAAkB,CAAC,SACf,IAAI;gBAAE,eAAe;YAAO;QAEhC,gBAAgB;QAChB,oBAAoB,IAChB,IAAI;gBAAE,eAAe;YAAK;IAClC,CAAC,GACD;IACI,MAAM;IACN,SAAS,CAAA,GAAA,6IAAA,CAAA,oBAAiB,AAAD,EAAE,IAAM;IACjC,YAAY,CAAC,QAAU,CAAC;YACpB,YAAY,MAAM,UAAU;YAC5B,eAAe,MAAM,aAAa;QACtC,CAAC;AACL;uCAIO","debugId":null}},
    {"offset": {"line": 84, "column": 0}, "map": {"version":3,"sources":["file:///Users/user/loop/loop/src/renderer/hooks/useLongPress.ts"],"sourcesContent":["// üî• Î°±ÌîÑÎ†àÏä§ ÌõÖ - Í∞ÑÎã®ÌïòÍ≥† ÌôïÏã§Ìïú Íµ¨ÌòÑ\n\nimport { useRef, useCallback } from 'react';\nimport { Logger } from '../../shared/logger';\n\ninterface UseLongPressOptions {\n    onLongPress: () => void;\n    onShortPress?: () => void;\n    delay?: number;\n}\n\ninterface UseLongPressResult {\n    onMouseDown: (event: React.MouseEvent) => void;\n    onMouseUp: (event: React.MouseEvent) => void;\n    onMouseLeave: (event: React.MouseEvent) => void;\n    onTouchStart: (event: React.TouchEvent) => void;\n    onTouchEnd: (event: React.TouchEvent) => void;\n    onTouchCancel: (event: React.TouchEvent) => void;\n}\n\nexport function useLongPress({\n    onLongPress,\n    onShortPress,\n    delay = 600\n}: UseLongPressOptions): UseLongPressResult {\n    const timeoutRef = useRef<NodeJS.Timeout | null>(null);\n    const isLongPressRef = useRef(false);\n    const isPressingRef = useRef(false);\n\n    const startPress = useCallback(() => {\n        if (isPressingRef.current) return;\n\n        isPressingRef.current = true;\n        isLongPressRef.current = false;\n\n        // Î°±ÌîÑÎ†àÏä§ ÌÉÄÏù¥Î®∏ ÏãúÏûë\n        timeoutRef.current = setTimeout(() => {\n            if (isPressingRef.current) {\n                isLongPressRef.current = true;\n                onLongPress();\n                Logger.debug('LONGPRESS', 'Î°±ÌîÑÎ†àÏä§ Ïã§ÌñâÎê®!');\n            }\n        }, delay);\n\n        Logger.debug('LONGPRESS', 'Î°±ÌîÑÎ†àÏä§ ÏãúÏûë', { delay });\n    }, [onLongPress, delay]);\n\n    const endPress = useCallback(() => {\n        if (!isPressingRef.current) return;\n\n        isPressingRef.current = false;\n\n        // ÌÉÄÏù¥Î®∏ Ï†ïÎ¶¨\n        if (timeoutRef.current) {\n            clearTimeout(timeoutRef.current);\n            timeoutRef.current = null;\n        }\n\n        // Î°±ÌîÑÎ†àÏä§Í∞Ä Ïã§ÌñâÎêòÏßÄ ÏïäÏïòÎã§Î©¥ ÏàèÌîÑÎ†àÏä§ Ïã§Ìñâ\n        if (!isLongPressRef.current && onShortPress) {\n            onShortPress();\n            Logger.debug('LONGPRESS', 'ÏàèÌîÑÎ†àÏä§ Ïã§ÌñâÎê®!');\n        }\n\n        isLongPressRef.current = false;\n    }, [onShortPress]);\n\n    const cancelPress = useCallback(() => {\n        isPressingRef.current = false;\n\n        if (timeoutRef.current) {\n            clearTimeout(timeoutRef.current);\n            timeoutRef.current = null;\n        }\n\n        isLongPressRef.current = false;\n        Logger.debug('LONGPRESS', 'Î°±ÌîÑÎ†àÏä§ Ï∑®ÏÜåÎê®');\n    }, []);\n\n    // ÎßàÏö∞Ïä§ Ïù¥Î≤§Ìä∏ Ìï∏Îì§Îü¨\n    const onMouseDown = useCallback((event: React.MouseEvent) => {\n        if (event.button !== 0) return; // ÏôºÏ™Ω ÌÅ¥Î¶≠Îßå\n        event.preventDefault();\n        startPress();\n    }, [startPress]);\n\n    const onMouseUp = useCallback((event: React.MouseEvent) => {\n        event.preventDefault();\n        endPress();\n    }, [endPress]);\n\n    const onMouseLeave = useCallback((event: React.MouseEvent) => {\n        cancelPress();\n    }, [cancelPress]);\n\n    // ÌÑ∞Ïπò Ïù¥Î≤§Ìä∏ Ìï∏Îì§Îü¨\n    const onTouchStart = useCallback((event: React.TouchEvent) => {\n        if (event.touches.length > 1) return; // Îã®Ïùº ÌÑ∞ÏπòÎßå\n        event.preventDefault();\n        startPress();\n    }, [startPress]);\n\n    const onTouchEnd = useCallback((event: React.TouchEvent) => {\n        event.preventDefault();\n        endPress();\n    }, [endPress]);\n\n    const onTouchCancel = useCallback((event: React.TouchEvent) => {\n        cancelPress();\n    }, [cancelPress]);\n\n    return {\n        onMouseDown,\n        onMouseUp,\n        onMouseLeave,\n        onTouchStart,\n        onTouchEnd,\n        onTouchCancel\n    };\n}\n\nexport default useLongPress;"],"names":[],"mappings":"AAAA,0BAA0B;;;;;AAE1B;AACA;;;AAiBO,SAAS,aAAa,EACzB,WAAW,EACX,YAAY,EACZ,QAAQ,GAAG,EACO;IAClB,MAAM,aAAa,CAAA,GAAA,qMAAA,CAAA,SAAM,AAAD,EAAyB;IACjD,MAAM,iBAAiB,CAAA,GAAA,qMAAA,CAAA,SAAM,AAAD,EAAE;IAC9B,MAAM,gBAAgB,CAAA,GAAA,qMAAA,CAAA,SAAM,AAAD,EAAE;IAE7B,MAAM,aAAa,CAAA,GAAA,qMAAA,CAAA,cAAW,AAAD,EAAE;QAC3B,IAAI,cAAc,OAAO,EAAE;QAE3B,cAAc,OAAO,GAAG;QACxB,eAAe,OAAO,GAAG;QAEzB,cAAc;QACd,WAAW,OAAO,GAAG,WAAW;YAC5B,IAAI,cAAc,OAAO,EAAE;gBACvB,eAAe,OAAO,GAAG;gBACzB;gBACA,uHAAA,CAAA,SAAM,CAAC,KAAK,CAAC,aAAa;YAC9B;QACJ,GAAG;QAEH,uHAAA,CAAA,SAAM,CAAC,KAAK,CAAC,aAAa,WAAW;YAAE;QAAM;IACjD,GAAG;QAAC;QAAa;KAAM;IAEvB,MAAM,WAAW,CAAA,GAAA,qMAAA,CAAA,cAAW,AAAD,EAAE;QACzB,IAAI,CAAC,cAAc,OAAO,EAAE;QAE5B,cAAc,OAAO,GAAG;QAExB,SAAS;QACT,IAAI,WAAW,OAAO,EAAE;YACpB,aAAa,WAAW,OAAO;YAC/B,WAAW,OAAO,GAAG;QACzB;QAEA,0BAA0B;QAC1B,IAAI,CAAC,eAAe,OAAO,IAAI,cAAc;YACzC;YACA,uHAAA,CAAA,SAAM,CAAC,KAAK,CAAC,aAAa;QAC9B;QAEA,eAAe,OAAO,GAAG;IAC7B,GAAG;QAAC;KAAa;IAEjB,MAAM,cAAc,CAAA,GAAA,qMAAA,CAAA,cAAW,AAAD,EAAE;QAC5B,cAAc,OAAO,GAAG;QAExB,IAAI,WAAW,OAAO,EAAE;YACpB,aAAa,WAAW,OAAO;YAC/B,WAAW,OAAO,GAAG;QACzB;QAEA,eAAe,OAAO,GAAG;QACzB,uHAAA,CAAA,SAAM,CAAC,KAAK,CAAC,aAAa;IAC9B,GAAG,EAAE;IAEL,cAAc;IACd,MAAM,cAAc,CAAA,GAAA,qMAAA,CAAA,cAAW,AAAD,EAAE,CAAC;QAC7B,IAAI,MAAM,MAAM,KAAK,GAAG,QAAQ,SAAS;QACzC,MAAM,cAAc;QACpB;IACJ,GAAG;QAAC;KAAW;IAEf,MAAM,YAAY,CAAA,GAAA,qMAAA,CAAA,cAAW,AAAD,EAAE,CAAC;QAC3B,MAAM,cAAc;QACpB;IACJ,GAAG;QAAC;KAAS;IAEb,MAAM,eAAe,CAAA,GAAA,qMAAA,CAAA,cAAW,AAAD,EAAE,CAAC;QAC9B;IACJ,GAAG;QAAC;KAAY;IAEhB,aAAa;IACb,MAAM,eAAe,CAAA,GAAA,qMAAA,CAAA,cAAW,AAAD,EAAE,CAAC;QAC9B,IAAI,MAAM,OAAO,CAAC,MAAM,GAAG,GAAG,QAAQ,SAAS;QAC/C,MAAM,cAAc;QACpB;IACJ,GAAG;QAAC;KAAW;IAEf,MAAM,aAAa,CAAA,GAAA,qMAAA,CAAA,cAAW,AAAD,EAAE,CAAC;QAC5B,MAAM,cAAc;QACpB;IACJ,GAAG;QAAC;KAAS;IAEb,MAAM,gBAAgB,CAAA,GAAA,qMAAA,CAAA,cAAW,AAAD,EAAE,CAAC;QAC/B;IACJ,GAAG;QAAC;KAAY;IAEhB,OAAO;QACH;QACA;QACA;QACA;QACA;QACA;IACJ;AACJ;uCAEe","debugId":null}},
    {"offset": {"line": 196, "column": 0}, "map": {"version":3,"sources":["file:///Users/user/loop/loop/src/renderer/app/projects/%5Bid%5D/ProjectPageClient.tsx"],"sourcesContent":["'use client';\n\nimport React from 'react';\nimport { useParams, useSearchParams } from 'next/navigation';\nimport { ProjectEditor } from '../../../components/projects/ProjectEditor';\nimport { ProjectErrorBoundary } from '../../../components/projects/ErrorBoundary';\nimport { Logger } from '../../../../shared/logger';\n\n// üî• ÌÅ¥ÎùºÏù¥Ïñ∏Ìä∏ Ïª¥Ìè¨ÎÑåÌä∏ - ÎèôÏ†Å ÎùºÏö∞ÌåÖ Î°úÏßÅ\nexport default function ProjectPageClient(): React.ReactElement {\n  const params = useParams();\n  const searchParams = useSearchParams();\n  const paramId = Array.isArray(params.id) ? params.id[0] : params.id;\n  const openId = searchParams.get('open') || searchParams.get('id') || undefined;\n\n  // üî• Ï†ïÏ†Å Î£®Ìä∏(`/projects/new`)ÏóêÏÑú ÏøºÎ¶¨Î°ú Ïó¥Î¶∞ Í≤ΩÏö∞ Ï≤òÎ¶¨\n  const projectId = (paramId === 'new' && openId) ? openId : (paramId || openId);\n\n  // üî• ÌååÎùºÎØ∏ÌÑ∞ Í≤ÄÏ¶ù\n  if (!projectId) {\n    Logger.error('PROJECT_PAGE', 'Missing project ID in route parameters');\n    return (\n      <div className=\"min-h-screen flex items-center justify-center\">\n        <div className=\"text-center\">\n          <h1 className=\"text-2xl font-bold text-red-600 mb-4\">Ïò§Î•ò</h1>\n          <p className=\"text-slate-600\">ÌîÑÎ°úÏ†ùÌä∏ IDÍ∞Ä ÏóÜÏäµÎãàÎã§.</p>\n        </div>\n      </div>\n    );\n  }\n\n  Logger.debug('PROJECT_PAGE', 'Loading project page', { projectId });\n\n  return (\n    <ProjectErrorBoundary>\n      <ProjectEditor projectId={projectId} />\n    </ProjectErrorBoundary>\n  );\n}\n"],"names":[],"mappings":";;;;AAGA;AACA;AACA;AACA;AANA;;;;;;AASe,SAAS;IACtB,MAAM,SAAS,CAAA,GAAA,kIAAA,CAAA,YAAS,AAAD;IACvB,MAAM,eAAe,CAAA,GAAA,kIAAA,CAAA,kBAAe,AAAD;IACnC,MAAM,UAAU,MAAM,OAAO,CAAC,OAAO,EAAE,IAAI,OAAO,EAAE,CAAC,EAAE,GAAG,OAAO,EAAE;IACnE,MAAM,SAAS,aAAa,GAAG,CAAC,WAAW,aAAa,GAAG,CAAC,SAAS;IAErE,2CAA2C;IAC3C,MAAM,YAAY,AAAC,YAAY,SAAS,SAAU,SAAU,WAAW;IAEvE,aAAa;IACb,IAAI,CAAC,WAAW;QACd,uHAAA,CAAA,SAAM,CAAC,KAAK,CAAC,gBAAgB;QAC7B,qBACE,8OAAC;YAAI,WAAU;sBACb,cAAA,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAG,WAAU;kCAAuC;;;;;;kCACrD,8OAAC;wBAAE,WAAU;kCAAiB;;;;;;;;;;;;;;;;;IAItC;IAEA,uHAAA,CAAA,SAAM,CAAC,KAAK,CAAC,gBAAgB,wBAAwB;QAAE;IAAU;IAEjE,qBACE,8OAAC,2JAAA,CAAA,uBAAoB;kBACnB,cAAA,8OAAC,2JAAA,CAAA,gBAAa;YAAC,WAAW;;;;;;;;;;;AAGhC","debugId":null}}]
}