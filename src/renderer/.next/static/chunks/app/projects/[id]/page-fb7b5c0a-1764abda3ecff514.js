(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[532],{1159:(e,t,a)=>{"use strict";a.d(t,{L:()=>i});var r=a(4568);a(7620);var l=a(319),s=a(8486);let o={container:"flex-1 flex flex-col h-full bg-gradient-to-br from-slate-50 to-white dark:from-gray-900 dark:to-gray-800 transition-colors duration-300",editorContainer:"flex-1 min-h-0 relative",editorWrapper:"h-full",focusOverlay:"absolute inset-0 bg-black/20 backdrop-blur-sm z-10 transition-opacity duration-300",focusContent:"relative z-20 h-full",emptyState:"flex flex-col items-center justify-center h-full text-center max-w-md mx-auto px-6",emptyIcon:"w-16 h-16 text-slate-400 dark:text-gray-500 mb-4",emptyTitle:"text-xl font-semibold text-slate-900 dark:text-gray-100 mb-2",emptyDescription:"text-slate-600 dark:text-gray-400 mb-6 leading-relaxed",startButton:"px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors font-medium"};function i(e){let{content:t,onChange:a,isFocusMode:i}=e;return t.trim()?(0,r.jsx)("div",{className:o.container,children:(0,r.jsxs)("div",{className:o.editorContainer,children:[i&&(0,r.jsx)("div",{className:o.focusOverlay}),(0,r.jsx)("div",{className:o.focusContent,children:(0,r.jsx)("div",{className:o.editorWrapper,children:(0,r.jsx)(l.n,{content:t,onChange:a,isFocusMode:i})})})]})}):(0,r.jsx)("div",{className:o.container,children:(0,r.jsxs)("div",{className:o.emptyState,children:[(0,r.jsx)(s.B,{className:o.emptyIcon}),(0,r.jsx)("h2",{className:o.emptyTitle,children:"새로운 이야기를 시작하세요"}),(0,r.jsx)("p",{className:o.emptyDescription,children:"이곳에서 당신의 창작 여정이 시작됩니다. 첫 번째 문장을 작성하고 상상력을 현실로 만들어보세요."}),(0,r.jsx)("button",{className:o.startButton,onClick:()=>a("# 새로운 장\n\n"),children:"글쓰기 시작하기"})]})})}},1357:(e,t,a)=>{"use strict";a.d(t,{l:()=>n});var r=a(4568),l=a(7620),s=a(7517);let o={container:"flex-1 overflow-hidden bg-gradient-to-br from-slate-50 to-white dark:from-gray-900 dark:to-gray-800",header:"p-6 bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm border-b border-slate-200/50 dark:border-gray-700/50",title:"text-2xl font-bold text-gray-900 dark:text-gray-100",subtitle:"text-slate-600 dark:text-gray-400 leading-relaxed",content:"flex-1 flex flex-col min-h-0",structureList:"space-y-3 pb-4",structureItem:"group relative flex items-center gap-4 p-4 bg-white dark:bg-gray-800 border border-slate-200 dark:border-gray-700 rounded-xl hover:shadow-md hover:border-blue-300 dark:hover:border-blue-600 transition-all duration-200 cursor-pointer",itemIcon:"w-6 h-6 text-blue-600 dark:text-blue-400 flex-shrink-0",itemContent:"flex-1 min-w-0",itemTitle:"font-semibold text-gray-900 dark:text-gray-100 truncate",itemType:"text-xs px-2 py-1 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 rounded-full font-medium",itemActions:"flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity",actionButton:"p-2 rounded-lg hover:bg-slate-100 dark:hover:bg-gray-700 text-slate-500 dark:text-gray-400 hover:text-slate-700 dark:hover:text-gray-300 transition-colors",addMenuContainer:"relative",addButton:"flex items-center justify-center gap-1.5 w-full p-2 border-2 border-dashed border-slate-300 dark:border-gray-600 rounded-md text-slate-600 dark:text-gray-400 hover:border-blue-400 hover:text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/10 transition-all duration-200 group",addMenu:"absolute top-full left-0 right-0 mt-1 bg-white dark:bg-gray-800 border border-slate-200 dark:border-gray-700 rounded-md shadow-lg z-10 overflow-hidden",addMenuItem:"flex items-center gap-2 px-2.5 py-1.5 hover:bg-slate-50 dark:hover:bg-gray-700 cursor-pointer transition-colors",editInput:"w-full px-3 py-2 border-2 border-blue-400 rounded-lg text-sm font-semibold text-gray-900 dark:text-gray-100 bg-white dark:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-blue-500"},i={chapter:s.Vw,synopsis:s.iU,idea:s.Xh},d=[{type:"chapter",label:"새 장",icon:s.Vw,description:"스토리의 주요 단위"},{type:"synopsis",label:"시놉시스",icon:s.iU,description:"이야기 개요"},{type:"idea",label:"아이디어",icon:s.Xh,description:"창작 아이디어"}];function n(e){let{structure:t,onStructureChange:a,onNavigateToChapterEdit:n,onNavigateToSynopsisEdit:c,onNavigateToIdeaEdit:x}=e,[u,g]=(0,l.useState)(!1),[m,b]=(0,l.useState)(null),[h,p]=(0,l.useState)(""),y=e=>{var r;let l={chapter:"".concat(t.filter(e=>"chapter"===e.type).length+1,"장"),synopsis:"시놉시스",idea:"새 아이디어"},s={id:Date.now().toString(),projectId:(null==(r=t[0])?void 0:r.projectId)||"",type:e,title:l[e],isActive:!0,createdAt:new Date,updatedAt:new Date};a([...t,s]),g(!1)},v=e=>{"chapter"===e.type?null==n||n(e.id):"idea"===e.type?null==x||x(e.id):"synopsis"===e.type&&(null==c||c(e.id))},j=e=>{b(e.id),p(e.title)},f=e=>{h.trim()&&a(t.map(t=>t.id===e?{...t,title:h.trim(),updatedAt:new Date}:t)),b(null),p("")},N=()=>{b(null),p("")},k=e=>{a(t.filter(t=>t.id!==e))},w=(e,t)=>{"Enter"===e.key?f(t):"Escape"===e.key&&N()};return(0,r.jsxs)("div",{className:o.container,children:[(0,r.jsxs)("div",{className:o.header,children:[(0,r.jsx)("h2",{className:o.title,children:"스토리 구조"}),(0,r.jsx)("p",{className:o.subtitle,children:"장, 장면, 메모를 관리하여 이야기의 흐름을 구성하세요"})]}),(0,r.jsx)("div",{className:o.content,children:(0,r.jsxs)("div",{className:o.structureList,children:[t.map(e=>{let t=i[e.type]||s.iU,a=m===e.id;return(0,r.jsxs)("div",{className:o.structureItem,onClick:()=>v(e),style:{cursor:"pointer"},children:[(0,r.jsx)(t,{className:o.itemIcon}),(0,r.jsx)("div",{className:o.itemContent,children:a?(0,r.jsx)("input",{type:"text",value:h,onChange:e=>p(e.target.value),onKeyDown:t=>w(t,e.id),onBlur:()=>f(e.id),className:o.editInput,autoFocus:!0}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:o.itemTitle,children:e.title}),(0,r.jsx)("div",{className:o.itemType,children:"chapter"===e.type?"장":"synopsis"===e.type?"시놉시스":"아이디어"})]})}),(0,r.jsxs)("div",{className:o.itemActions,children:[(0,r.jsx)("button",{onClick:()=>j(e),className:o.actionButton,title:"편집",children:(0,r.jsx)(s.Pt,{className:"w-4 h-4"})}),(0,r.jsx)("button",{onClick:()=>k(e.id),className:o.actionButton,title:"삭제",children:(0,r.jsx)(s.TB,{className:"w-4 h-4"})})]})]},e.id)}),(0,r.jsxs)("div",{className:o.addMenuContainer,children:[(0,r.jsxs)("button",{onClick:()=>g(!u),className:o.addButton,children:[(0,r.jsx)(s.FW,{className:"w-5 h-5"}),(0,r.jsx)("span",{children:"새 항목 추가"}),u?(0,r.jsx)(s.yQ,{className:"w-4 h-4"}):(0,r.jsx)(s.c_,{className:"w-4 h-4"})]}),u&&(0,r.jsx)("div",{className:o.addMenu,children:d.map(e=>{let{type:t,label:a,icon:l,description:s}=e;return(0,r.jsxs)("div",{onClick:()=>y(t),className:o.addMenuItem,children:[(0,r.jsx)(l,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("div",{className:"font-medium text-gray-900 dark:text-gray-100",children:a}),(0,r.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:s})]})]},t)})})]})]})})]})}},2933:(e,t,a)=>{"use strict";a.d(t,{Z:()=>n});var r=a(4568),l=a(7620),s=a(1838);let o={character:{icon:s.zW,color:"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300",label:"캐릭터"},plot:{icon:s.iU,color:"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-300",label:"플롯"},setting:{icon:s.sD,color:"bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-300",label:"설정"},dialogue:{icon:s.vE,color:"bg-orange-100 dark:bg-orange-900/30 text-orange-700 dark:text-orange-300",label:"대사"},theme:{icon:s.B1,color:"bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-300",label:"테마"},other:{icon:s.a4,color:"bg-gray-100 dark:bg-gray-700/30 text-gray-700 dark:text-gray-300",label:"기타"}},i={initial:{color:"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-400",label:"초기"},developing:{color:"bg-yellow-100 dark:bg-yellow-900/30 text-yellow-700 dark:text-yellow-300",label:"발전"},concrete:{color:"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300",label:"구체화"},applied:{color:"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-300",label:"적용됨"}},d={container:"flex-1 h-full bg-gradient-to-br from-slate-50 to-white dark:from-gray-900 dark:to-gray-800",header:"sticky top-0 z-10 bg-white/90 dark:bg-gray-800/90 backdrop-blur-sm border-b border-slate-200 dark:border-gray-700",headerTop:"flex items-center justify-between p-4",backButton:"flex items-center gap-2 px-3 py-2 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",title:"text-xl font-bold text-gray-900 dark:text-gray-100",headerActions:"flex items-center gap-2",quickCapture:"p-4 border-b border-slate-200 dark:border-gray-700",captureInput:"w-full px-4 py-3 border border-slate-300 dark:border-gray-600 rounded-lg text-gray-900 dark:text-gray-100 bg-white dark:bg-gray-800 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 placeholder-gray-500 dark:placeholder-gray-400",captureButton:"mt-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors text-sm font-medium",toolbar:"flex items-center justify-between p-4 border-b border-slate-200 dark:border-gray-700",toolbarLeft:"flex items-center gap-3",toolbarRight:"flex items-center gap-2",viewToggle:"flex items-center bg-gray-100 dark:bg-gray-700 rounded-lg p-1",viewButton:"p-2 rounded-md transition-colors",viewButtonActive:"bg-white dark:bg-gray-600 text-blue-600 dark:text-blue-400 shadow-sm",viewButtonInactive:"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200",filterButton:"flex items-center gap-2 px-3 py-2 text-sm text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",searchContainer:"relative",searchInput:"pl-9 pr-4 py-2 border border-slate-300 dark:border-gray-600 rounded-lg text-sm text-gray-900 dark:text-gray-100 bg-white dark:bg-gray-800 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",searchIcon:"absolute left-3 top-2.5 text-gray-400",content:"flex-1 overflow-hidden",scrollArea:"h-full overflow-y-auto p-6",cardsContainer:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",ideaCard:"group bg-white dark:bg-gray-800 rounded-xl border border-slate-200 dark:border-gray-700 p-4 hover:shadow-lg hover:border-blue-300 dark:hover:border-blue-600 transition-all duration-200 cursor-pointer",cardHeader:"flex items-start justify-between mb-3",cardTitle:"font-semibold text-gray-900 dark:text-gray-100 line-clamp-2 group-hover:text-blue-600 dark:group-hover:text-blue-400",cardActions:"opacity-0 group-hover:opacity-100 transition-opacity flex gap-1",cardContent:"text-sm text-gray-600 dark:text-gray-400 line-clamp-3 mb-3",cardFooter:"flex items-center justify-between",cardMeta:"flex items-center gap-2",cardTags:"flex items-center gap-1 flex-wrap",listContainer:"space-y-2",listItem:"group bg-white dark:bg-gray-800 rounded-lg border border-slate-200 dark:border-gray-700 p-4 hover:bg-slate-50 dark:hover:bg-gray-700/50 transition-colors cursor-pointer",badge:"inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium",tag:"inline-flex items-center gap-1 px-2 py-1 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-full text-xs",actionButton:"p-1.5 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded transition-colors",statsGrid:"grid grid-cols-4 gap-4 mb-6",statCard:"bg-white dark:bg-gray-800 rounded-lg border border-slate-200 dark:border-gray-700 p-4 text-center",statValue:"text-2xl font-bold text-gray-900 dark:text-gray-100",statLabel:"text-sm text-gray-600 dark:text-gray-400 mt-1",statIcon:"w-5 h-5 text-blue-600 dark:text-blue-400 mx-auto mb-2",emptyState:"flex flex-col items-center justify-center h-64 text-center",emptyIcon:"w-16 h-16 text-gray-400 dark:text-gray-500 mb-4",emptyTitle:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-2",emptyDescription:"text-gray-600 dark:text-gray-400 max-w-md mx-auto",modal:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50",modalContent:"bg-white dark:bg-gray-800 rounded-xl border border-slate-200 dark:border-gray-700 shadow-xl max-w-2xl w-full max-h-[90vh] overflow-hidden",modalHeader:"flex items-center justify-between p-4 border-b border-slate-200 dark:border-gray-700",modalTitle:"text-lg font-semibold text-gray-900 dark:text-gray-100",modalBody:"p-4 overflow-y-auto",modalFooter:"flex items-center justify-end gap-2 p-4 border-t border-slate-200 dark:border-gray-700",formGroup:"mb-4",label:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",input:"w-full px-3 py-2 border border-slate-300 dark:border-gray-600 rounded-lg text-gray-900 dark:text-gray-100 bg-white dark:bg-gray-800 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",textarea:"w-full px-3 py-2 border border-slate-300 dark:border-gray-600 rounded-lg text-gray-900 dark:text-gray-100 bg-white dark:bg-gray-800 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-none",select:"w-full px-3 py-2 border border-slate-300 dark:border-gray-600 rounded-lg text-gray-900 dark:text-gray-100 bg-white dark:bg-gray-800 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",button:"px-4 py-2 rounded-lg font-medium transition-colors",primaryButton:"bg-blue-600 hover:bg-blue-700 text-white",secondaryButton:"bg-gray-100 hover:bg-gray-200 dark:bg-gray-700 dark:hover:bg-gray-600 text-gray-900 dark:text-gray-100"};function n(e){let{ideaId:t,onBack:a}=e,[n,c]=(0,l.useState)([{id:"1",title:"신비로운 도서관",content:"각 책이 살아있는 도서관. 독자가 책을 열면 그 세계로 빨려들어간다. 사서는 실제로는 차원의 수호자.",category:"setting",stage:"developing",tags:["판타지","도서관","차원이동"],priority:"high",connections:[],attachments:[],notes:"Harry Potter의 움직이는 계단에서 영감을 받음",createdAt:new Date("2024-01-15"),updatedAt:new Date("2024-01-20"),isFavorite:!0},{id:"2",title:"시간을 먹는 괴물",content:"사람들의 시간을 훔쳐먹는 보이지 않는 괴물. 피해자는 점점 늙어간다. 주인공만이 이를 볼 수 있다.",category:"character",stage:"concrete",tags:["판타지","괴물","시간"],priority:"medium",connections:["1"],attachments:[],notes:"",createdAt:new Date("2024-01-10"),updatedAt:new Date("2024-01-18"),isFavorite:!1},{id:"3",title:'"시간이 멈췄네"',content:"주인공이 위기 상황에서 시간 정지 능력을 처음 발견했을 때의 첫 마디. 놀라움과 당황이 섞인 톤.",category:"dialogue",stage:"applied",tags:["대사","능력각성","첫발견"],priority:"low",connections:["2"],attachments:[],notes:"1장 클라이맥스에서 사용",createdAt:new Date("2024-01-08"),updatedAt:new Date("2024-01-25"),isFavorite:!0}]),[x,u]=(0,l.useState)("cards"),[g,m]=(0,l.useState)(""),[b,h]=(0,l.useState)("all"),[p,y]=(0,l.useState)("all"),[v,j]=(0,l.useState)(null),[f,N]=(0,l.useState)(!1),[k,w]=(0,l.useState)(""),C=(0,l.useMemo)(()=>n.filter(e=>{let t=e.title.toLowerCase().includes(g.toLowerCase())||e.content.toLowerCase().includes(g.toLowerCase())||e.tags.some(e=>e.toLowerCase().includes(g.toLowerCase())),a="all"===b||e.category===b,r="all"===p||e.stage===p;return t&&a&&r}),[n,g,b,p]),B=(0,l.useMemo)(()=>({total:n.length,favorites:n.filter(e=>e.isFavorite).length,applied:n.filter(e=>"applied"===e.stage).length,highPriority:n.filter(e=>"high"===e.priority).length}),[n]),I=(0,l.useCallback)(()=>{if(!k.trim())return;let e={id:Date.now().toString(),title:k.slice(0,50)+(k.length>50?"...":""),content:k,category:"other",stage:"initial",tags:[],priority:"medium",connections:[],attachments:[],notes:"",createdAt:new Date,updatedAt:new Date,isFavorite:!1};c(t=>[e,...t]),w("")},[k]),T=(0,l.useCallback)(()=>{v&&(f?c(e=>[v,...e]):c(e=>e.map(e=>e.id===v.id?v:e)),j(null),N(!1))},[v,f]),z=(0,l.useCallback)(e=>{c(t=>t.filter(t=>t.id!==e))},[]),A=(0,l.useCallback)(e=>{c(t=>t.map(t=>t.id===e?{...t,isFavorite:!t.isFavorite}:t))},[]);return(0,r.jsxs)("div",{className:d.container,children:[(0,r.jsxs)("div",{className:d.header,children:[(0,r.jsxs)("div",{className:d.headerTop,children:[(0,r.jsxs)("button",{onClick:a,className:d.backButton,children:[(0,r.jsx)(s.JG,{size:20}),(0,r.jsx)("span",{children:"구조로 돌아가기"})]}),(0,r.jsx)("h1",{className:d.title,children:"아이디어 관리"}),(0,r.jsx)("div",{className:d.headerActions,children:(0,r.jsxs)("button",{onClick:()=>N(!0),className:"".concat(d.button," ").concat(d.primaryButton),children:[(0,r.jsx)(s.FW,{size:16,className:"mr-1"}),"새 아이디어"]})})]}),(0,r.jsx)("div",{className:d.quickCapture,children:(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)("input",{type:"text",value:k,onChange:e=>w(e.target.value),placeholder:"\uD83D\uDCA1 떠오른 아이디어를 빠르게 메모하세요... (Enter로 저장)",className:d.captureInput,onKeyDown:e=>{"Enter"===e.key&&I()}}),(0,r.jsx)("button",{onClick:I,disabled:!k.trim(),className:d.captureButton,children:"저장"})]})}),(0,r.jsxs)("div",{className:d.toolbar,children:[(0,r.jsxs)("div",{className:d.toolbarLeft,children:[(0,r.jsxs)("div",{className:d.searchContainer,children:[(0,r.jsx)(s.vj,{size:16,className:d.searchIcon}),(0,r.jsx)("input",{type:"text",value:g,onChange:e=>m(e.target.value),placeholder:"아이디어 검색...",className:d.searchInput})]}),(0,r.jsxs)("select",{value:b,onChange:e=>h(e.target.value),className:d.filterButton,children:[(0,r.jsx)("option",{value:"all",children:"모든 카테고리"}),Object.entries(o).map(e=>{let[t,a]=e;return(0,r.jsx)("option",{value:t,children:a.label},t)})]}),(0,r.jsxs)("select",{value:p,onChange:e=>y(e.target.value),className:d.filterButton,children:[(0,r.jsx)("option",{value:"all",children:"모든 단계"}),Object.entries(i).map(e=>{let[t,a]=e;return(0,r.jsx)("option",{value:t,children:a.label},t)})]})]}),(0,r.jsx)("div",{className:d.toolbarRight,children:(0,r.jsxs)("div",{className:d.viewToggle,children:[(0,r.jsx)("button",{onClick:()=>u("cards"),className:"".concat(d.viewButton," ").concat("cards"===x?d.viewButtonActive:d.viewButtonInactive),children:(0,r.jsx)(s.hN,{size:16})}),(0,r.jsx)("button",{onClick:()=>u("list"),className:"".concat(d.viewButton," ").concat("list"===x?d.viewButtonActive:d.viewButtonInactive),children:(0,r.jsx)(s.B8,{size:16})})]})})]})]}),(0,r.jsx)("div",{className:d.content,children:(0,r.jsxs)("div",{className:d.scrollArea,children:[(0,r.jsxs)("div",{className:d.statsGrid,children:[(0,r.jsxs)("div",{className:d.statCard,children:[(0,r.jsx)(s.g5,{className:d.statIcon}),(0,r.jsx)("div",{className:d.statValue,children:B.total}),(0,r.jsx)("div",{className:d.statLabel,children:"총 아이디어"})]}),(0,r.jsxs)("div",{className:d.statCard,children:[(0,r.jsx)(s.FE,{className:d.statIcon}),(0,r.jsx)("div",{className:d.statValue,children:B.favorites}),(0,r.jsx)("div",{className:d.statLabel,children:"즐겨찾기"})]}),(0,r.jsxs)("div",{className:d.statCard,children:[(0,r.jsx)(s.F1,{className:d.statIcon}),(0,r.jsx)("div",{className:d.statValue,children:B.applied}),(0,r.jsx)("div",{className:d.statLabel,children:"적용됨"})]}),(0,r.jsxs)("div",{className:d.statCard,children:[(0,r.jsx)(s.nt,{className:d.statIcon}),(0,r.jsx)("div",{className:d.statValue,children:B.highPriority}),(0,r.jsx)("div",{className:d.statLabel,children:"높은 우선순위"})]})]}),0===C.length?(0,r.jsxs)("div",{className:d.emptyState,children:[(0,r.jsx)(s.g5,{className:d.emptyIcon}),(0,r.jsx)("h3",{className:d.emptyTitle,children:"아이디어가 없습니다"}),(0,r.jsx)("p",{className:d.emptyDescription,children:"위의 빠른 캡처를 사용하여 첫 번째 아이디어를 추가해보세요!"})]}):"cards"===x?(0,r.jsx)("div",{className:d.cardsContainer,children:C.map(e=>{let t=o[e.category].icon;return(0,r.jsxs)("div",{className:d.ideaCard,onClick:()=>j(e),children:[(0,r.jsxs)("div",{className:d.cardHeader,children:[(0,r.jsx)("h3",{className:d.cardTitle,children:e.title}),(0,r.jsxs)("div",{className:d.cardActions,children:[(0,r.jsx)("button",{onClick:t=>{t.stopPropagation(),A(e.id)},className:d.actionButton,children:(0,r.jsx)(s.FE,{size:14,className:e.isFavorite?"fill-yellow-400 text-yellow-400":""})}),(0,r.jsx)("button",{onClick:t=>{t.stopPropagation(),z(e.id)},className:d.actionButton,children:(0,r.jsx)(s.TB,{size:14})})]})]}),(0,r.jsx)("p",{className:d.cardContent,children:e.content}),(0,r.jsxs)("div",{className:d.cardFooter,children:[(0,r.jsxs)("div",{className:d.cardMeta,children:[(0,r.jsxs)("span",{className:"".concat(d.badge," ").concat(o[e.category].color),children:[(0,r.jsx)(t,{size:12}),o[e.category].label]}),(0,r.jsx)("span",{className:"".concat(d.badge," ").concat(i[e.stage].color),children:i[e.stage].label})]}),e.tags.length>0&&(0,r.jsxs)("div",{className:d.cardTags,children:[e.tags.slice(0,3).map((e,t)=>(0,r.jsx)("span",{className:d.tag,children:e},t)),e.tags.length>3&&(0,r.jsxs)("span",{className:d.tag,children:["+",e.tags.length-3]})]})]})]},e.id)})}):(0,r.jsx)("div",{className:d.listContainer,children:C.map(e=>{let t=o[e.category].icon;return(0,r.jsx)("div",{className:d.listItem,onClick:()=>j(e),children:(0,r.jsxs)("div",{className:"flex items-start justify-between",children:[(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,r.jsx)("h3",{className:"font-semibold text-gray-900 dark:text-gray-100",children:e.title}),(0,r.jsxs)("span",{className:"".concat(d.badge," ").concat(o[e.category].color),children:[(0,r.jsx)(t,{size:12}),o[e.category].label]}),(0,r.jsx)("span",{className:"".concat(d.badge," ").concat(i[e.stage].color),children:i[e.stage].label}),e.isFavorite&&(0,r.jsx)(s.FE,{size:14,className:"fill-yellow-400 text-yellow-400"})]}),(0,r.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 line-clamp-2 mb-2",children:e.content}),e.tags.length>0&&(0,r.jsx)("div",{className:"flex gap-1 flex-wrap",children:e.tags.map((e,t)=>(0,r.jsx)("span",{className:d.tag,children:e},t))})]}),(0,r.jsxs)("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity flex gap-1",children:[(0,r.jsx)("button",{onClick:t=>{t.stopPropagation(),A(e.id)},className:d.actionButton,children:(0,r.jsx)(s.FE,{size:14})}),(0,r.jsx)("button",{onClick:t=>{t.stopPropagation(),z(e.id)},className:d.actionButton,children:(0,r.jsx)(s.TB,{size:14})})]})]})},e.id)})})]})}),(v||f)&&(0,r.jsx)("div",{className:d.modal,children:(0,r.jsxs)("div",{className:d.modalContent,children:[(0,r.jsxs)("div",{className:d.modalHeader,children:[(0,r.jsx)("h2",{className:d.modalTitle,children:f?"새 아이디어":"아이디어 편집"}),(0,r.jsx)("button",{onClick:()=>{j(null),N(!1)},className:d.actionButton,children:(0,r.jsx)(s.X,{size:18})})]}),(0,r.jsxs)("div",{className:d.modalBody,children:[(0,r.jsxs)("div",{className:d.formGroup,children:[(0,r.jsx)("label",{className:d.label,children:"제목"}),(0,r.jsx)("input",{type:"text",value:(null==v?void 0:v.title)||"",onChange:e=>j(t=>t?{...t,title:e.target.value}:null),className:d.input,placeholder:"아이디어 제목"})]}),(0,r.jsxs)("div",{className:d.formGroup,children:[(0,r.jsx)("label",{className:d.label,children:"내용"}),(0,r.jsx)("textarea",{value:(null==v?void 0:v.content)||"",onChange:e=>j(t=>t?{...t,content:e.target.value}:null),className:d.textarea,rows:4,placeholder:"아이디어의 상세한 설명을 입력하세요..."})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{className:d.formGroup,children:[(0,r.jsx)("label",{className:d.label,children:"카테고리"}),(0,r.jsx)("select",{value:(null==v?void 0:v.category)||"other",onChange:e=>j(t=>t?{...t,category:e.target.value}:null),className:d.select,children:Object.entries(o).map(e=>{let[t,a]=e;return(0,r.jsx)("option",{value:t,children:a.label},t)})})]}),(0,r.jsxs)("div",{className:d.formGroup,children:[(0,r.jsx)("label",{className:d.label,children:"개발 단계"}),(0,r.jsx)("select",{value:(null==v?void 0:v.stage)||"initial",onChange:e=>j(t=>t?{...t,stage:e.target.value}:null),className:d.select,children:Object.entries(i).map(e=>{let[t,a]=e;return(0,r.jsx)("option",{value:t,children:a.label},t)})})]})]}),(0,r.jsxs)("div",{className:d.formGroup,children:[(0,r.jsx)("label",{className:d.label,children:"태그 (쉼표로 구분)"}),(0,r.jsx)("input",{type:"text",value:(null==v?void 0:v.tags.join(", "))||"",onChange:e=>j(t=>t?{...t,tags:e.target.value.split(",").map(e=>e.trim()).filter(Boolean)}:null),className:d.input,placeholder:"예: 판타지, 마법, 모험"})]}),(0,r.jsxs)("div",{className:d.formGroup,children:[(0,r.jsx)("label",{className:d.label,children:"메모"}),(0,r.jsx)("textarea",{value:(null==v?void 0:v.notes)||"",onChange:e=>j(t=>t?{...t,notes:e.target.value}:null),className:d.textarea,rows:3,placeholder:"추가 메모나 영감의 출처를 기록하세요..."})]})]}),(0,r.jsxs)("div",{className:d.modalFooter,children:[(0,r.jsx)("button",{onClick:()=>{j(null),N(!1)},className:"".concat(d.button," ").concat(d.secondaryButton),children:"취소"}),(0,r.jsx)("button",{onClick:T,className:"".concat(d.button," ").concat(d.primaryButton),children:"저장"})]})]})})]})}},4842:(e,t,a)=>{"use strict";a.d(t,{A:()=>n});var r=a(4568),l=a(7620),s=a(4882);let o={1:{title:"Act 1: 설정",color:"from-green-500 to-emerald-600",description:"인물, 배경, 상황 소개"},2:{title:"Act 2: 전개",color:"from-blue-500 to-indigo-600",description:"갈등 발생과 전개"},3:{title:"Act 3: 해결",color:"from-purple-500 to-violet-600",description:"클라이맥스와 결말"}},i={setup:{icon:s.sD,color:"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-300"},conflict:{icon:s.Kq,color:"bg-orange-100 dark:bg-orange-900/30 text-orange-700 dark:text-orange-300"},resolution:{icon:s.We,color:"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300"},twist:{icon:s.a4,color:"bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-300"},climax:{icon:s.Kq,color:"bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-300"}},d={container:"flex-1 h-full bg-gradient-to-br from-slate-50 to-white dark:from-gray-900 dark:to-gray-800",header:"sticky top-0 z-10 bg-white/90 dark:bg-gray-800/90 backdrop-blur-sm border-b border-slate-200 dark:border-gray-700 p-4",headerContent:"flex items-center justify-between",backButton:"flex items-center gap-2 px-3 py-2 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",title:"text-xl font-bold text-gray-900 dark:text-gray-100",actions:"flex items-center gap-2",actionButton:"p-2 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",content:"flex-1 overflow-hidden",timeline:"h-full overflow-y-auto p-6",actsContainer:"space-y-8",actSection:"bg-white dark:bg-gray-800 rounded-xl border border-slate-200 dark:border-gray-700 overflow-hidden",actHeader:"p-4 bg-gradient-to-r text-white",actTitle:"text-lg font-bold",actDescription:"text-sm opacity-90 mt-1",actContent:"p-4",plotPoints:"space-y-3",plotPoint:"group bg-slate-50 dark:bg-gray-700/50 rounded-lg p-4 border border-slate-200 dark:border-gray-600 hover:bg-slate-100 dark:hover:bg-gray-700 transition-colors cursor-pointer",plotHeader:"flex items-start justify-between",plotInfo:"flex-1",plotTitle:"font-semibold text-gray-900 dark:text-gray-100 group-hover:text-blue-600 dark:group-hover:text-blue-400",plotDescription:"text-sm text-gray-600 dark:text-gray-400 mt-1 line-clamp-2",plotMeta:"flex items-center gap-3 mt-2 text-xs text-gray-500 dark:text-gray-400",plotType:"inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium",plotActions:"opacity-0 group-hover:opacity-100 transition-opacity flex gap-1",addButton:"w-full mt-3 p-3 border-2 border-dashed border-slate-300 dark:border-gray-600 rounded-lg text-slate-600 dark:text-gray-400 hover:border-blue-400 hover:text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-colors flex items-center justify-center gap-2 text-sm",modal:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50",modalContent:"bg-white dark:bg-gray-800 rounded-xl border border-slate-200 dark:border-gray-700 shadow-xl max-w-2xl w-full max-h-[90vh] overflow-hidden",modalHeader:"flex items-center justify-between p-4 border-b border-slate-200 dark:border-gray-700",modalTitle:"text-lg font-semibold text-gray-900 dark:text-gray-100",modalBody:"p-4 overflow-y-auto",modalFooter:"flex items-center justify-end gap-2 p-4 border-t border-slate-200 dark:border-gray-700",formGroup:"mb-4",label:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",input:"w-full px-3 py-2 border border-slate-300 dark:border-gray-600 rounded-lg text-gray-900 dark:text-gray-100 bg-white dark:bg-gray-800 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",textarea:"w-full px-3 py-2 border border-slate-300 dark:border-gray-600 rounded-lg text-gray-900 dark:text-gray-100 bg-white dark:bg-gray-800 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-none",select:"w-full px-3 py-2 border border-slate-300 dark:border-gray-600 rounded-lg text-gray-900 dark:text-gray-100 bg-white dark:bg-gray-800 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",button:"px-4 py-2 rounded-lg font-medium transition-colors",primaryButton:"bg-blue-600 hover:bg-blue-700 text-white",secondaryButton:"bg-gray-100 hover:bg-gray-200 dark:bg-gray-700 dark:hover:bg-gray-600 text-gray-900 dark:text-gray-100"};function n(e){let{synopsisId:t,onBack:a}=e,[n,c]=(0,l.useState)([{id:"1",act:1,title:"주인공 소개",description:"평범한 일상을 보내는 주인공의 모습을 보여준다. 성격과 배경을 자연스럽게 드러낸다.",type:"setup",characters:["주인공"],location:"주인공의 집",order:1},{id:"2",act:1,title:"사건의 시작",description:"평범한 일상을 깨뜨리는 중요한 사건이 발생한다. 주인공이 선택해야 할 기로에 선다.",type:"conflict",characters:["주인공","조력자"],location:"사건 현장",order:2},{id:"3",act:2,title:"첫 번째 시련",description:"주인공이 목표를 향해 나아가면서 겪는 첫 번째 큰 어려움. 실패와 좌절을 경험한다.",type:"conflict",characters:["주인공","적대자"],location:"시련의 장소",order:3}]),[x,u]=(0,l.useState)(null),[g,m]=(0,l.useState)({show:!1}),b=(0,l.useCallback)(e=>{u({id:Date.now().toString(),act:e,title:"새 플롯 포인트",description:"",type:"setup",characters:[],order:n.filter(t=>t.act===e).length+1}),m({show:!0,act:e})},[n]),h=(0,l.useCallback)(()=>{x&&(g.show?c(e=>[...e,x]):c(e=>e.map(e=>e.id===x.id?x:e)),u(null),m({show:!1}))},[x,g.show]),p=(0,l.useCallback)(e=>{c(t=>t.filter(t=>t.id!==e))},[]),y=(0,l.useCallback)(e=>n.filter(t=>t.act===e).sort((e,t)=>e.order-t.order),[n]);return(0,r.jsxs)("div",{className:d.container,children:[(0,r.jsx)("div",{className:d.header,children:(0,r.jsxs)("div",{className:d.headerContent,children:[(0,r.jsxs)("button",{onClick:a,className:d.backButton,children:[(0,r.jsx)(s.JG,{size:20}),(0,r.jsx)("span",{children:"구조로 돌아가기"})]}),(0,r.jsx)("h1",{className:d.title,children:"시놉시스 편집"}),(0,r.jsx)("div",{className:d.actions,children:(0,r.jsx)("button",{className:d.actionButton,title:"저장",children:(0,r.jsx)(s.eM,{size:18})})})]})}),(0,r.jsx)("div",{className:d.content,children:(0,r.jsx)("div",{className:d.timeline,children:(0,r.jsx)("div",{className:d.actsContainer,children:[1,2,3].map(e=>{let t=o[e],a=y(e);return(0,r.jsxs)("div",{className:d.actSection,children:[(0,r.jsxs)("div",{className:"".concat(d.actHeader," bg-gradient-to-r ").concat(t.color),children:[(0,r.jsx)("div",{className:d.actTitle,children:t.title}),(0,r.jsx)("div",{className:d.actDescription,children:t.description})]}),(0,r.jsxs)("div",{className:d.actContent,children:[(0,r.jsx)("div",{className:d.plotPoints,children:a.map(e=>{let t=i[e.type].icon;return(0,r.jsx)("div",{className:d.plotPoint,onClick:()=>u(e),children:(0,r.jsxs)("div",{className:d.plotHeader,children:[(0,r.jsxs)("div",{className:d.plotInfo,children:[(0,r.jsx)("div",{className:d.plotTitle,children:e.title}),(0,r.jsx)("div",{className:d.plotDescription,children:e.description}),(0,r.jsxs)("div",{className:d.plotMeta,children:[(0,r.jsxs)("span",{className:"".concat(d.plotType," ").concat(i[e.type].color),children:[(0,r.jsx)(t,{size:12}),e.type]}),e.characters.length>0&&(0,r.jsxs)("span",{className:"flex items-center gap-1",children:[(0,r.jsx)(s.zW,{size:12}),e.characters.join(", ")]}),e.location&&(0,r.jsxs)("span",{className:"flex items-center gap-1",children:[(0,r.jsx)(s.sD,{size:12}),e.location]})]})]}),(0,r.jsxs)("div",{className:d.plotActions,children:[(0,r.jsx)("button",{onClick:t=>{t.stopPropagation(),u(e)},className:d.actionButton,children:(0,r.jsx)(s.W7,{size:14})}),(0,r.jsx)("button",{onClick:t=>{t.stopPropagation(),p(e.id)},className:d.actionButton,children:(0,r.jsx)(s.TB,{size:14})})]})]})},e.id)})}),(0,r.jsxs)("button",{onClick:()=>b(e),className:d.addButton,children:[(0,r.jsx)(s.FW,{size:16}),"새 플롯 포인트 추가"]})]})]},e)})})})}),(x||g.show)&&(0,r.jsx)("div",{className:d.modal,children:(0,r.jsxs)("div",{className:d.modalContent,children:[(0,r.jsxs)("div",{className:d.modalHeader,children:[(0,r.jsx)("h2",{className:d.modalTitle,children:g.show?"새 플롯 포인트":"플롯 포인트 편집"}),(0,r.jsx)("button",{onClick:()=>{u(null),m({show:!1})},className:d.actionButton,children:(0,r.jsx)(s.X,{size:18})})]}),(0,r.jsxs)("div",{className:d.modalBody,children:[(0,r.jsxs)("div",{className:d.formGroup,children:[(0,r.jsx)("label",{className:d.label,children:"제목"}),(0,r.jsx)("input",{type:"text",value:(null==x?void 0:x.title)||"",onChange:e=>u(t=>t?{...t,title:e.target.value}:null),className:d.input,placeholder:"플롯 포인트 제목"})]}),(0,r.jsxs)("div",{className:d.formGroup,children:[(0,r.jsx)("label",{className:d.label,children:"설명"}),(0,r.jsx)("textarea",{value:(null==x?void 0:x.description)||"",onChange:e=>u(t=>t?{...t,description:e.target.value}:null),className:d.textarea,rows:4,placeholder:"상세한 설명을 입력하세요..."})]}),(0,r.jsxs)("div",{className:d.formGroup,children:[(0,r.jsx)("label",{className:d.label,children:"타입"}),(0,r.jsxs)("select",{value:(null==x?void 0:x.type)||"setup",onChange:e=>u(t=>t?{...t,type:e.target.value}:null),className:d.select,children:[(0,r.jsx)("option",{value:"setup",children:"설정"}),(0,r.jsx)("option",{value:"conflict",children:"갈등"}),(0,r.jsx)("option",{value:"resolution",children:"해결"}),(0,r.jsx)("option",{value:"twist",children:"반전"}),(0,r.jsx)("option",{value:"climax",children:"클라이맥스"})]})]}),(0,r.jsxs)("div",{className:d.formGroup,children:[(0,r.jsx)("label",{className:d.label,children:"장소"}),(0,r.jsx)("input",{type:"text",value:(null==x?void 0:x.location)||"",onChange:e=>u(t=>t?{...t,location:e.target.value}:null),className:d.input,placeholder:"이벤트가 일어나는 장소"})]})]}),(0,r.jsxs)("div",{className:d.modalFooter,children:[(0,r.jsx)("button",{onClick:()=>{u(null),m({show:!1})},className:"".concat(d.button," ").concat(d.secondaryButton),children:"취소"}),(0,r.jsx)("button",{onClick:h,className:"".concat(d.button," ").concat(d.primaryButton),children:"저장"})]})]})})]})}},5829:(e,t,a)=>{"use strict";a.d(t,{d:()=>x});var r=a(4568),l=a(7620),s=a(5909),o=a(662);let i={container:"flex-1 overflow-hidden bg-gradient-to-br from-slate-50 to-white dark:from-gray-900 dark:to-gray-800",header:"p-6 bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm border-b border-slate-200/50 dark:border-gray-700/50",headerTop:"flex items-center justify-between mb-4",title:"text-2xl font-bold text-gray-900 dark:text-gray-100",subtitle:"text-slate-600 dark:text-gray-400 leading-relaxed",statsGrid:"grid grid-cols-4 gap-4 mt-4",statCard:"p-3 bg-white dark:bg-gray-800 rounded-lg border border-slate-200 dark:border-gray-700",statIcon:"w-5 h-5 text-blue-600 dark:text-blue-400 mb-2",statValue:"text-lg font-semibold text-gray-900 dark:text-gray-100",statLabel:"text-xs text-slate-600 dark:text-gray-400",content:"flex-1 relative overflow-hidden",typeButtons:"flex gap-3 mb-6 flex-wrap",typeButton:"flex items-center gap-2 px-4 py-2 text-sm font-medium border border-slate-200 dark:border-gray-700 rounded-full hover:bg-slate-100 dark:hover:bg-gray-700 transition-all duration-200 hover:scale-105 cursor-pointer",typeButtonActive:"bg-gradient-to-r from-blue-500 to-blue-600 text-white border-blue-600 hover:from-blue-600 hover:to-blue-700 shadow-md",canvas:"absolute inset-0 overflow-auto p-6",noteCard:"absolute group select-none bg-gradient-to-br shadow-lg rounded-xl border-2 transition-all duration-200 cursor-move",noteCardIdea:"from-yellow-100 to-yellow-200 dark:from-yellow-900/30 dark:to-yellow-800/30 border-yellow-300 dark:border-yellow-700",noteCardGoal:"from-green-100 to-green-200 dark:from-green-900/30 dark:to-green-800/30 border-green-300 dark:border-green-700",noteCardReference:"from-blue-100 to-blue-200 dark:from-blue-900/30 dark:to-blue-800/30 border-blue-300 dark:border-blue-700",noteCardHover:"hover:shadow-xl hover:scale-105 hover:z-10",noteHeader:"flex items-center justify-between p-4 border-b border-current/20",noteIcon:"w-5 h-5 mr-2",noteTitle:"font-bold text-gray-900 dark:text-gray-100 flex-1 text-sm",noteActions:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",noteContent:"p-4 text-gray-700 dark:text-gray-300 text-xs leading-relaxed overflow-hidden",noteDate:"text-xs text-gray-500 dark:text-gray-500 px-4 pb-3 font-medium",resizeHandle:"absolute bottom-0 right-0 w-4 h-4 cursor-se-resize opacity-0 group-hover:opacity-100 transition-opacity",resizeIcon:"w-3 h-3 text-gray-400",addButtonsContainer:"absolute bottom-6 right-6 flex flex-col gap-3",addButton:"group relative flex items-center gap-3 px-4 py-3 bg-white dark:bg-gray-800 border-2 border-dashed border-slate-300 dark:border-gray-600 rounded-xl hover:border-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/10 transition-all duration-200 cursor-pointer shadow-lg hover:shadow-xl",addButtonIcon:"w-5 h-5 text-slate-400 group-hover:text-blue-500 dark:group-hover:text-blue-400 transition-colors",addButtonText:"text-sm font-medium text-slate-600 dark:text-gray-400 group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors",editButton:"relative z-10 p-1.5 text-gray-400 hover:text-blue-600 dark:hover:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg transition-colors cursor-pointer",saveButton:"relative z-10 p-1.5 text-gray-400 hover:text-green-600 dark:hover:text-green-400 hover:bg-green-50 dark:hover:bg-green-900/20 rounded-lg transition-colors cursor-pointer",cancelButton:"relative z-10 p-1.5 text-gray-400 hover:text-red-600 dark:hover:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors cursor-pointer",editInput:"w-full px-2 py-1 text-xs border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-1 focus:ring-blue-500",editTextarea:"w-full px-2 py-1 text-xs border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-1 focus:ring-blue-500 resize-none",emptyState:"absolute inset-0 flex flex-col items-center justify-center text-center",emptyIcon:"w-16 h-16 text-slate-400 dark:text-gray-500 mb-4",emptyTitle:"text-xl font-semibold text-gray-900 dark:text-gray-100 mb-2",emptyDescription:"text-slate-600 dark:text-gray-400 max-w-md mx-auto leading-relaxed"},d=[],n=[{id:"all",label:"전체",icon:s.GJ},{id:"idea",label:"아이디어",icon:s.g5},{id:"goal",label:"목표",icon:s.We},{id:"reference",label:"참고",icon:s.Gy}],c={idea:i.noteCardIdea,goal:i.noteCardGoal,reference:i.noteCardReference};function x(e){var t;let{projectId:a,notes:x,onNotesChange:u}=e,[g,m]=(0,l.useState)((x||d).map((e,t)=>({...e,projectId:a,position:{x:50+t%3*250,y:50+200*Math.floor(t/3),width:240,height:180}}))),[b,h]=(0,l.useState)("all"),[p,y]=(0,l.useState)(null),[v,j]=(0,l.useState)({}),[f,N]=(0,l.useState)(null),[k,w]=(0,l.useState)(null),C=(0,l.useRef)(null),B={total:g.length,ideas:g.filter(e=>"idea"===e.type).length,goals:g.filter(e=>"goal"===e.type).length,references:g.filter(e=>"reference"===e.type).length},I="all"===b?g:g.filter(e=>e.type===b),T=(0,l.useCallback)(e=>{let t={id:Date.now().toString(),projectId:a,title:"idea"===e?"새 아이디어":"goal"===e?"새 목표":"새 참고사항",content:"idea"===e?"떠오른 아이디어를 기록하세요...":"goal"===e?"달성하고 싶은 목표를 설정하세요...":"참고할 자료나 정보를 기록하세요...",type:e,createdAt:new Date,updatedAt:new Date,position:{x:300*Math.random()+50,y:200*Math.random()+50,width:240,height:180}},r=[...g,t];m(r),null==u||u(r),y(t.id),j(t),o.V.info("NOTES_VIEW","New note added",{id:t.id,type:e})},[g,a,u]),z=(0,l.useCallback)((e,t)=>{if(e.target.closest(".resize-handle"))return;let a=g.find(e=>e.id===t);(null==a?void 0:a.position)&&N({id:t,startX:a.position.x,startY:a.position.y,startMouseX:e.clientX,startMouseY:e.clientY})},[g]),A=(0,l.useCallback)((e,t)=>{e.stopPropagation();let a=g.find(e=>e.id===t);(null==a?void 0:a.position)&&w({id:t,startWidth:a.position.width,startHeight:a.position.height,startMouseX:e.clientX,startMouseY:e.clientY})},[g]),L=(0,l.useCallback)(e=>{if(f){let t=e.clientX-f.startMouseX,a=e.clientY-f.startMouseY;m(e=>e.map(e=>e.id===f.id&&e.position?{...e,position:{...e.position,x:Math.max(0,f.startX+t),y:Math.max(0,f.startY+a)}}:e))}if(k){let t=e.clientX-k.startMouseX,a=e.clientY-k.startMouseY;m(e=>e.map(e=>e.id===k.id&&e.position?{...e,position:{...e.position,width:Math.max(200,k.startWidth+t),height:Math.max(150,k.startHeight+a)}}:e))}},[f,k]),D=(0,l.useCallback)(()=>{(f||k)&&(null==u||u(g)),N(null),w(null)},[f,k,g,u]);l.useEffect(()=>{if(f||k)return document.addEventListener("mousemove",L),document.addEventListener("mouseup",D),()=>{document.removeEventListener("mousemove",L),document.removeEventListener("mouseup",D)}},[f,k,L,D]);let G=(0,l.useCallback)(e=>{y(e.id),j(e)},[]),F=(0,l.useCallback)(()=>{if(p&&v){let e=g.map(e=>e.id===p?{...e,...v,updatedAt:new Date}:e);m(e),null==u||u(e),y(null),j({})}},[p,v,g,u]),S=(0,l.useCallback)(()=>{y(null),j({})},[]),E=(0,l.useCallback)(e=>{let t=g.filter(t=>t.id!==e);m(t),null==u||u(t)},[g,u]);return(0,r.jsxs)("div",{className:i.container,children:[(0,r.jsxs)("div",{className:i.header,children:[(0,r.jsx)("div",{className:i.headerTop,children:(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:i.title,children:"창작 노트"}),(0,r.jsx)("p",{className:i.subtitle,children:"아이디어, 목표, 참고사항을 자유롭게 배치하고 관리하세요. 드래그로 위치를 조정하고 크기를 조절할 수 있습니다."})]})}),(0,r.jsxs)("div",{className:i.statsGrid,children:[(0,r.jsxs)("div",{className:i.statCard,children:[(0,r.jsx)(s.GJ,{className:i.statIcon}),(0,r.jsx)("div",{className:i.statValue,children:B.total}),(0,r.jsx)("div",{className:i.statLabel,children:"총 노트"})]}),(0,r.jsxs)("div",{className:i.statCard,children:[(0,r.jsx)(s.g5,{className:i.statIcon}),(0,r.jsx)("div",{className:i.statValue,children:B.ideas}),(0,r.jsx)("div",{className:i.statLabel,children:"아이디어"})]}),(0,r.jsxs)("div",{className:i.statCard,children:[(0,r.jsx)(s.We,{className:i.statIcon}),(0,r.jsx)("div",{className:i.statValue,children:B.goals}),(0,r.jsx)("div",{className:i.statLabel,children:"목표"})]}),(0,r.jsxs)("div",{className:i.statCard,children:[(0,r.jsx)(s.Gy,{className:i.statIcon}),(0,r.jsx)("div",{className:i.statValue,children:B.references}),(0,r.jsx)("div",{className:i.statLabel,children:"참고"})]})]}),(0,r.jsx)("div",{className:i.typeButtons,children:n.map(e=>{let{id:t,label:a,icon:l}=e;return(0,r.jsxs)("button",{onClick:()=>h(t),className:"".concat(i.typeButton," ").concat(b===t?i.typeButtonActive:""),children:[(0,r.jsx)(l,{className:"w-4 h-4"}),(0,r.jsx)("span",{children:a})]},t)})})]}),(0,r.jsxs)("div",{className:i.content,children:[(0,r.jsx)("div",{ref:C,className:i.canvas,children:0===I.length?(0,r.jsxs)("div",{className:i.emptyState,children:[(0,r.jsx)(s.GJ,{className:i.emptyIcon}),(0,r.jsx)("h2",{className:i.emptyTitle,children:"all"===b?"첫 번째 노트를 만들어보세요":"".concat(null==(t=n.find(e=>e.id===b))?void 0:t.label," 노트를 추가해보세요")}),(0,r.jsx)("p",{className:i.emptyDescription,children:"창작 과정에서 떠오르는 아이디어나 중요한 정보들을 자유롭게 배치할 수 있는 캔버스입니다."})]}):I.map(e=>{let t=p===e.id,a=e.position||{x:50,y:50,width:240,height:180},l="idea"===e.type?s.g5:"goal"===e.type?s.We:s.Gy,o=c[e.type];return(0,r.jsxs)("div",{className:"".concat(i.noteCard," ").concat(o," ").concat(i.noteCardHover),style:{left:a.x,top:a.y,width:a.width,height:a.height,zIndex:(null==f?void 0:f.id)===e.id?1e3:1},onMouseDown:t=>z(t,e.id),children:[(0,r.jsxs)("div",{className:i.noteHeader,children:[(0,r.jsxs)("div",{className:"flex items-center flex-1",children:[(0,r.jsx)(l,{className:i.noteIcon}),t?(0,r.jsx)("input",{type:"text",value:v.title||"",onChange:e=>j(t=>({...t,title:e.target.value})),className:i.editInput,onClick:e=>e.stopPropagation()}):(0,r.jsx)("span",{className:i.noteTitle,children:e.title})]}),(0,r.jsx)("div",{className:i.noteActions,children:t?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("button",{onClick:e=>{e.stopPropagation(),F()},className:i.saveButton,children:(0,r.jsx)(s.eM,{size:12})}),(0,r.jsx)("button",{onClick:e=>{e.stopPropagation(),S()},className:i.cancelButton,children:(0,r.jsx)(s.X,{size:12})})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("button",{onClick:t=>{t.stopPropagation(),G(e)},className:i.editButton,children:(0,r.jsx)(s.W7,{size:12})}),(0,r.jsx)("button",{onClick:t=>{t.stopPropagation(),E(e.id)},className:i.cancelButton,children:(0,r.jsx)(s.X,{size:12})})]})})]}),(0,r.jsx)("div",{className:i.noteContent,children:t?(0,r.jsx)("textarea",{value:v.content||"",onChange:e=>j(t=>({...t,content:e.target.value})),className:i.editTextarea,rows:6,onClick:e=>e.stopPropagation()}):(0,r.jsx)("div",{children:e.content})}),(0,r.jsx)("div",{className:i.noteDate,children:e.updatedAt.toLocaleDateString()}),(0,r.jsx)("div",{className:"".concat(i.resizeHandle," resize-handle"),onMouseDown:t=>A(t,e.id),children:(0,r.jsx)(s.h1,{className:i.resizeIcon})})]},e.id)})}),(0,r.jsxs)("div",{className:i.addButtonsContainer,children:[(0,r.jsxs)("button",{onClick:()=>T("idea"),className:i.addButton,children:[(0,r.jsx)(s.g5,{className:i.addButtonIcon}),(0,r.jsx)("span",{className:i.addButtonText,children:"아이디어"})]}),(0,r.jsxs)("button",{onClick:()=>T("goal"),className:i.addButton,children:[(0,r.jsx)(s.We,{className:i.addButtonIcon}),(0,r.jsx)("span",{className:i.addButtonText,children:"목표"})]}),(0,r.jsxs)("button",{onClick:()=>T("reference"),className:i.addButton,children:[(0,r.jsx)(s.Gy,{className:i.addButtonIcon}),(0,r.jsx)("span",{className:i.addButtonText,children:"참고"})]})]})]})]})}},8856:(e,t,a)=>{"use strict";a.d(t,{E:()=>n});var r=a(4568),l=a(7620),s=a(5401),o=a(662);let i={container:"flex-1 overflow-hidden bg-gradient-to-br from-slate-50 to-white dark:from-gray-900 dark:to-gray-800",header:"p-6 bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm border-b border-slate-200/50 dark:border-gray-700/50",headerTop:"flex items-center justify-between mb-4",title:"text-2xl font-bold text-gray-900 dark:text-gray-100",subtitle:"text-slate-600 dark:text-gray-400 leading-relaxed",statsGrid:"grid grid-cols-3 gap-4 mt-4",statCard:"p-3 bg-white dark:bg-gray-800 rounded-lg border border-slate-200 dark:border-gray-700",statIcon:"w-5 h-5 text-blue-600 dark:text-blue-400 mb-2",statValue:"text-lg font-semibold text-gray-900 dark:text-gray-100",statLabel:"text-xs text-slate-600 dark:text-gray-400",content:"flex-1 flex flex-col min-h-0",scrollArea:"flex-1 overflow-y-auto",contentPadding:"p-6",characterGrid:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",characterCard:"group bg-white dark:bg-gray-800 rounded-xl border border-slate-200 dark:border-gray-700 hover:shadow-lg transition-all duration-200 overflow-hidden",characterHeader:"p-4 border-b border-slate-100 dark:border-gray-700",characterAvatar:"w-12 h-12 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-white font-bold text-lg mb-3",characterName:"font-bold text-lg text-gray-900 dark:text-gray-100 mb-1",characterRole:"text-sm text-blue-600 dark:text-blue-400 font-medium",tabContainer:"flex border-b border-slate-100 dark:border-gray-700",tab:"px-3 py-2 text-sm font-medium text-slate-600 dark:text-gray-400 hover:text-blue-600 dark:hover:text-blue-400 cursor-pointer transition-colors",tabActive:"text-blue-600 dark:text-blue-400 border-b-2 border-blue-600 dark:border-blue-400",tabContent:"p-4 space-y-3",fieldGroup:"space-y-2",fieldLabel:"text-xs font-medium text-slate-500 dark:text-gray-400 uppercase tracking-wide",fieldValue:"text-sm text-gray-700 dark:text-gray-300 leading-relaxed",fieldEmpty:"text-xs text-slate-400 dark:text-gray-500 italic",actionButtons:"absolute top-3 right-3 flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",editButton:"p-1.5 text-gray-400 hover:text-blue-600 dark:hover:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg transition-colors cursor-pointer",deleteButton:"p-1.5 text-gray-400 hover:text-red-600 dark:hover:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors cursor-pointer",addButton:"group relative flex flex-col items-center justify-center gap-4 p-8 bg-white dark:bg-gray-800 border-2 border-dashed border-slate-300 dark:border-gray-600 rounded-xl hover:border-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/10 transition-all duration-200 cursor-pointer",addButtonIcon:"w-8 h-8 text-slate-400 group-hover:text-blue-500 dark:group-hover:text-blue-400 transition-colors group-hover:scale-110 transform",addButtonText:"text-base font-medium text-slate-600 dark:text-gray-400 group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors",modalOverlay:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",modal:"bg-white dark:bg-gray-800 rounded-xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-hidden",modalHeader:"p-6 border-b border-slate-200 dark:border-gray-700 flex items-center justify-between",modalTitle:"text-xl font-bold text-gray-900 dark:text-gray-100",modalBody:"p-6 overflow-y-auto max-h-[60vh]",modalFooter:"p-6 border-t border-slate-200 dark:border-gray-700 flex gap-3 justify-end",formGrid:"grid grid-cols-1 md:grid-cols-2 gap-4",formField:"space-y-2",formLabel:"text-sm font-medium text-gray-700 dark:text-gray-300",formInput:"w-full px-3 py-2 border border-slate-300 dark:border-gray-600 rounded-lg text-sm text-gray-900 dark:text-gray-100 bg-white dark:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500",formTextarea:"w-full px-3 py-2 border border-slate-300 dark:border-gray-600 rounded-lg text-sm text-gray-900 dark:text-gray-100 bg-white dark:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none",button:"px-4 py-2 rounded-lg font-medium transition-colors",buttonPrimary:"bg-blue-600 hover:bg-blue-700 text-white",buttonSecondary:"bg-slate-200 hover:bg-slate-300 dark:bg-gray-600 dark:hover:bg-gray-500 text-gray-700 dark:text-gray-200",emptyState:"flex flex-col items-center justify-center h-64 text-center",emptyIcon:"w-16 h-16 text-slate-400 dark:text-gray-500 mb-4",emptyTitle:"text-xl font-semibold text-gray-900 dark:text-gray-100 mb-2",emptyDescription:"text-slate-600 dark:text-gray-400 max-w-md mx-auto leading-relaxed"},d=[{id:"basic",label:"기본",icon:s.KJ},{id:"details",label:"상세",icon:s.Gy},{id:"story",label:"스토리",icon:s.B1}];function n(e){let{projectId:t,characters:a,onCharactersChange:n}=e,[c,x]=(0,l.useState)({}),[u,g]=(0,l.useState)(null),[m,b]=(0,l.useState)({}),h={total:a.length,main:a.filter(e=>{var t,a;return(null==(t=e.role)?void 0:t.includes("주인공"))||(null==(a=e.role)?void 0:a.includes("주연"))}).length,detailed:a.filter(e=>e.appearance&&e.personality&&e.background).length},p=async()=>{let e={id:Date.now().toString(),projectId:t,name:"새 인물",role:"역할 미정",description:"인물에 대한 기본 설명을 추가하세요.",createdAt:new Date,updatedAt:new Date};g(e),b(e)},y=e=>{g(e),b(e)},v=async()=>{var e;if(u&&(null==(e=m.name)?void 0:e.trim()))try{let e={...m,id:u.id,projectId:t,updatedAt:new Date},r=await window.electronAPI.projects.upsertCharacter(e);if(r.success&&r.data){let e=u.id===m.id?a.map(e=>e.id===u.id?r.data:e):[...a,r.data];n(e),g(null),b({}),o.V.info("CHARACTERS_VIEW","Character saved",{id:r.data.id})}}catch(e){o.V.error("CHARACTERS_VIEW","Failed to save character",e),alert("캐릭터 저장에 실패했습니다.")}},j=()=>{g(null),b({})},f=e=>{confirm("이 캐릭터를 삭제하시겠습니까?")&&n(a.filter(t=>t.id!==e))},N=e=>c[e]||"basic",k=(e,t)=>{x(a=>({...a,[e]:t}))},w=(e,t)=>{switch(t){case"basic":return(0,r.jsxs)("div",{className:i.tabContent,children:[(0,r.jsxs)("div",{className:i.fieldGroup,children:[(0,r.jsx)("div",{className:i.fieldLabel,children:"역할"}),(0,r.jsx)("div",{className:i.fieldValue,children:e.role||(0,r.jsx)("span",{className:i.fieldEmpty,children:"역할을 설정해주세요"})})]}),(0,r.jsxs)("div",{className:i.fieldGroup,children:[(0,r.jsx)("div",{className:i.fieldLabel,children:"설명"}),(0,r.jsx)("div",{className:i.fieldValue,children:e.description||(0,r.jsx)("span",{className:i.fieldEmpty,children:"캐릭터 설명을 추가해주세요"})})]})]});case"details":return(0,r.jsxs)("div",{className:i.tabContent,children:[(0,r.jsxs)("div",{className:i.fieldGroup,children:[(0,r.jsx)("div",{className:i.fieldLabel,children:"외모"}),(0,r.jsx)("div",{className:i.fieldValue,children:e.appearance||(0,r.jsx)("span",{className:i.fieldEmpty,children:"외모를 기록해주세요"})})]}),(0,r.jsxs)("div",{className:i.fieldGroup,children:[(0,r.jsx)("div",{className:i.fieldLabel,children:"나이"}),(0,r.jsx)("div",{className:i.fieldValue,children:e.age||(0,r.jsx)("span",{className:i.fieldEmpty,children:"나이를 설정해주세요"})})]}),(0,r.jsxs)("div",{className:i.fieldGroup,children:[(0,r.jsx)("div",{className:i.fieldLabel,children:"직업"}),(0,r.jsx)("div",{className:i.fieldValue,children:e.occupation||(0,r.jsx)("span",{className:i.fieldEmpty,children:"직업을 기록해주세요"})})]}),(0,r.jsxs)("div",{className:i.fieldGroup,children:[(0,r.jsx)("div",{className:i.fieldLabel,children:"출신 / 거주지"}),(0,r.jsx)("div",{className:i.fieldValue,children:e.birthplace||e.residence?"".concat(e.birthplace||"미기록"," / ").concat(e.residence||"미기록"):(0,r.jsx)("span",{className:i.fieldEmpty,children:"출신지와 거주지를 기록해주세요"})})]}),(0,r.jsxs)("div",{className:i.fieldGroup,children:[(0,r.jsx)("div",{className:i.fieldLabel,children:"가족"}),(0,r.jsx)("div",{className:i.fieldValue,children:e.family||(0,r.jsx)("span",{className:i.fieldEmpty,children:"가족 관계를 기록해주세요"})})]})]});case"story":return(0,r.jsxs)("div",{className:i.tabContent,children:[(0,r.jsxs)("div",{className:i.fieldGroup,children:[(0,r.jsx)("div",{className:i.fieldLabel,children:"성격"}),(0,r.jsx)("div",{className:i.fieldValue,children:e.personality||(0,r.jsx)("span",{className:i.fieldEmpty,children:"성격을 기록해주세요"})})]}),(0,r.jsxs)("div",{className:i.fieldGroup,children:[(0,r.jsx)("div",{className:i.fieldLabel,children:"배경"}),(0,r.jsx)("div",{className:i.fieldValue,children:e.background||(0,r.jsx)("span",{className:i.fieldEmpty,children:"캐릭터 배경을 기록해주세요"})})]}),(0,r.jsxs)("div",{className:i.fieldGroup,children:[(0,r.jsx)("div",{className:i.fieldLabel,children:"목표"}),(0,r.jsx)("div",{className:i.fieldValue,children:e.goals||(0,r.jsx)("span",{className:i.fieldEmpty,children:"캐릭터의 목표를 기록해주세요"})})]})]});default:return null}};return(0,r.jsxs)("div",{className:i.container,children:[(0,r.jsxs)("div",{className:i.header,children:[(0,r.jsx)("div",{className:i.headerTop,children:(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:i.title,children:"등장인물"}),(0,r.jsx)("p",{className:i.subtitle,children:"이야기 속 캐릭터들의 상세한 프로필을 관리하세요. 체계적인 캐릭터 설정으로 더욱 생생한 스토리를 만들어보세요."})]})}),(0,r.jsxs)("div",{className:i.statsGrid,children:[(0,r.jsxs)("div",{className:i.statCard,children:[(0,r.jsx)(s.zW,{className:i.statIcon}),(0,r.jsx)("div",{className:i.statValue,children:h.total}),(0,r.jsx)("div",{className:i.statLabel,children:"총 인물"})]}),(0,r.jsxs)("div",{className:i.statCard,children:[(0,r.jsx)(s.Gy,{className:i.statIcon}),(0,r.jsx)("div",{className:i.statValue,children:h.main}),(0,r.jsx)("div",{className:i.statLabel,children:"주요 인물"})]}),(0,r.jsxs)("div",{className:i.statCard,children:[(0,r.jsx)(s.B1,{className:i.statIcon}),(0,r.jsx)("div",{className:i.statValue,children:h.detailed}),(0,r.jsx)("div",{className:i.statLabel,children:"상세 설정"})]})]})]}),(0,r.jsx)("div",{className:i.content,children:(0,r.jsx)("div",{className:i.scrollArea,children:(0,r.jsx)("div",{className:i.contentPadding,children:0===a.length?(0,r.jsxs)("div",{className:i.emptyState,children:[(0,r.jsx)(s.zW,{className:i.emptyIcon}),(0,r.jsx)("h2",{className:i.emptyTitle,children:"첫 번째 인물을 만들어보세요"}),(0,r.jsx)("p",{className:i.emptyDescription,children:"매력적인 캐릭터들이 당신의 이야기를 더욱 생동감 있게 만들어줄 것입니다. 주인공부터 조연까지, 각자의 특별한 이야기를 담아보세요."}),(0,r.jsx)("button",{onClick:p,className:"".concat(i.button," ").concat(i.buttonPrimary," mt-6"),children:"첫 인물 만들기"})]}):(0,r.jsxs)("div",{className:i.characterGrid,children:[a.map(e=>{let t=N(e.id);return(0,r.jsx)("div",{className:i.characterCard,children:(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsxs)("div",{className:i.actionButtons,children:[(0,r.jsx)("button",{onClick:t=>{t.stopPropagation(),y(e)},className:i.editButton,title:"편집",children:(0,r.jsx)(s.W7,{size:16})}),(0,r.jsx)("button",{onClick:t=>{t.stopPropagation(),f(e.id)},className:i.deleteButton,title:"삭제",children:(0,r.jsx)(s.X,{size:16})})]}),(0,r.jsxs)("div",{className:i.characterHeader,children:[(0,r.jsx)("div",{className:i.characterAvatar,children:e.name.charAt(0)}),(0,r.jsx)("h3",{className:i.characterName,children:e.name}),(0,r.jsx)("span",{className:i.characterRole,children:e.role})]}),(0,r.jsx)("div",{className:i.tabContainer,children:d.map(a=>{let{id:l,label:s,icon:o}=a;return(0,r.jsxs)("button",{onClick:()=>k(e.id,l),className:"".concat(i.tab," ").concat(t===l?i.tabActive:""),children:[(0,r.jsx)(o,{className:"w-4 h-4 mr-1"}),s]},l)})}),w(e,t)]})},e.id)}),(0,r.jsxs)("button",{onClick:p,className:i.addButton,children:[(0,r.jsx)(s.FW,{className:i.addButtonIcon}),(0,r.jsx)("span",{className:i.addButtonText,children:"새 인물 추가"})]})]})})})}),u&&(0,r.jsx)("div",{className:i.modalOverlay,onClick:j,children:(0,r.jsxs)("div",{className:i.modal,onClick:e=>e.stopPropagation(),children:[(0,r.jsxs)("div",{className:i.modalHeader,children:[(0,r.jsx)("h2",{className:i.modalTitle,children:u.id===m.id?"캐릭터 편집":"새 캐릭터"}),(0,r.jsx)("button",{onClick:j,children:(0,r.jsx)(s.X,{size:20})})]}),(0,r.jsxs)("div",{className:i.modalBody,children:[(0,r.jsxs)("div",{className:i.formGrid,children:[(0,r.jsxs)("div",{className:i.formField,children:[(0,r.jsx)("label",{className:i.formLabel,children:"이름 *"}),(0,r.jsx)("input",{type:"text",value:m.name||"",onChange:e=>b(t=>({...t,name:e.target.value})),className:i.formInput,placeholder:"캐릭터 이름"})]}),(0,r.jsxs)("div",{className:i.formField,children:[(0,r.jsx)("label",{className:i.formLabel,children:"역할"}),(0,r.jsx)("input",{type:"text",value:m.role||"",onChange:e=>b(t=>({...t,role:e.target.value})),className:i.formInput,placeholder:"주인공, 조연, 악역 등"})]}),(0,r.jsxs)("div",{className:i.formField,children:[(0,r.jsx)("label",{className:i.formLabel,children:"나이"}),(0,r.jsx)("input",{type:"text",value:m.age||"",onChange:e=>b(t=>({...t,age:e.target.value})),className:i.formInput,placeholder:"나이 또는 연령대"})]}),(0,r.jsxs)("div",{className:i.formField,children:[(0,r.jsx)("label",{className:i.formLabel,children:"직업"}),(0,r.jsx)("input",{type:"text",value:m.occupation||"",onChange:e=>b(t=>({...t,occupation:e.target.value})),className:i.formInput,placeholder:"직업이나 역할"})]}),(0,r.jsxs)("div",{className:i.formField,children:[(0,r.jsx)("label",{className:i.formLabel,children:"출신"}),(0,r.jsx)("input",{type:"text",value:m.birthplace||"",onChange:e=>b(t=>({...t,birthplace:e.target.value})),className:i.formInput,placeholder:"출생지"})]}),(0,r.jsxs)("div",{className:i.formField,children:[(0,r.jsx)("label",{className:i.formLabel,children:"거주지"}),(0,r.jsx)("input",{type:"text",value:m.residence||"",onChange:e=>b(t=>({...t,residence:e.target.value})),className:i.formInput,placeholder:"현재 거주지"})]})]}),(0,r.jsxs)("div",{className:"mt-4 space-y-4",children:[(0,r.jsxs)("div",{className:i.formField,children:[(0,r.jsx)("label",{className:i.formLabel,children:"외모"}),(0,r.jsx)("textarea",{value:m.appearance||"",onChange:e=>b(t=>({...t,appearance:e.target.value})),className:i.formTextarea,placeholder:"키, 몸무게, 헤어스타일, 특징 등",rows:3})]}),(0,r.jsxs)("div",{className:i.formField,children:[(0,r.jsx)("label",{className:i.formLabel,children:"성격"}),(0,r.jsx)("textarea",{value:m.personality||"",onChange:e=>b(t=>({...t,personality:e.target.value})),className:i.formTextarea,placeholder:"성격적 특징, 말투, 습관 등",rows:3})]}),(0,r.jsxs)("div",{className:i.formField,children:[(0,r.jsx)("label",{className:i.formLabel,children:"가족"}),(0,r.jsx)("textarea",{value:m.family||"",onChange:e=>b(t=>({...t,family:e.target.value})),className:i.formTextarea,placeholder:"가족 구성원과 관계",rows:2})]}),(0,r.jsxs)("div",{className:i.formField,children:[(0,r.jsx)("label",{className:i.formLabel,children:"배경"}),(0,r.jsx)("textarea",{value:m.background||"",onChange:e=>b(t=>({...t,background:e.target.value})),className:i.formTextarea,placeholder:"과거 경험, 중요한 사건 등",rows:3})]}),(0,r.jsxs)("div",{className:i.formField,children:[(0,r.jsx)("label",{className:i.formLabel,children:"설명"}),(0,r.jsx)("textarea",{value:m.description||"",onChange:e=>b(t=>({...t,description:e.target.value})),className:i.formTextarea,placeholder:"캐릭터에 대한 전반적인 설명",rows:3})]})]})]}),(0,r.jsxs)("div",{className:i.modalFooter,children:[(0,r.jsx)("button",{onClick:j,className:"".concat(i.button," ").concat(i.buttonSecondary),children:"취소"}),(0,r.jsx)("button",{onClick:v,className:"".concat(i.button," ").concat(i.buttonPrimary),children:"저장"})]})]})})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[91,209,432,979,899,744,322,592,940,605,30,465,173,641,431,110,555,408,219,27,206,409,76,588,51,358],()=>t(4862)),_N_E=e.O()}]);