(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[76],{373:(e,t,r)=>{"use strict";r.d(t,{t:()=>l});var a=r(7620),s=r(662);function l(){let[e,t]=(0,a.useState)(null),[r,l]=(0,a.useState)(!0),[o,n]=(0,a.useState)(!1),[i,c]=(0,a.useState)(null),d=(0,a.useRef)(!1),u=(0,a.useRef)(!1);(0,a.useCallback)(()=>{if(!e)return;let t=document.documentElement;t.style.setProperty("--app-font-size","".concat(e.app.fontSize,"px")),t.style.setProperty("--app-font-family",e.app.fontFamily),s.V.debug("USE_SETTINGS","CSS variables updated",{fontSize:e.app.fontSize,fontFamily:e.app.fontFamily})},[e]);let g={app:{theme:"system",language:"ko",autoSave:!0,startMinimized:!1,minimizeToTray:!0,fontSize:14,fontFamily:"Pretendard, -apple-system, BlinkMacSystemFont, system-ui, sans-serif"},keyboard:{enabled:!0,language:"korean",trackAllApps:!1,sessionTimeout:30},ui:{windowWidth:1400,windowHeight:900,sidebarCollapsed:!1,focusMode:!1,showLineNumbers:!0,showWordCount:!0},performance:{enableGPUAcceleration:!0,maxCPUUsage:80,maxMemoryUsage:2048,enableHardwareAcceleration:!0},account:{userId:void 0,username:void 0,email:void 0,displayName:void 0,avatar:void 0,enableSync:!1,syncProvider:"local",syncInterval:60,enableTwoFactor:!1,authProvider:"local",sessionTimeout:60},notifications:{enableNotifications:!0,enableSounds:!0,notifyGoalAchieved:!0,notifyDailyGoal:!0,notifyErrors:!0}},m=(0,a.useCallback)(async()=>{if(!d.current)try{d.current=!0,l(!0),c(null),s.V.debug("USE_SETTINGS","Loading settings from main process");let e=await window.electronAPI.settings.getAll();if(e&&e.success&&e.data){let r=e.data,a={...g,...r,app:{...g.app,...r.app||{}},keyboard:{...g.keyboard,...r.keyboard||{}},ui:{...g.ui,...r.ui||{}},performance:{...g.performance,...r.performance||{}},account:{...g.account,...r.account||{}},notifications:{...g.notifications,...r.notifications||{}}};t(a),setTimeout(()=>{let e=document.documentElement;e.style.setProperty("--app-font-size","".concat(a.app.fontSize,"px")),e.style.setProperty("--app-font-family",a.app.fontFamily),s.V.debug("USE_SETTINGS","Initial CSS font variables applied",{fontSize:a.app.fontSize,fontFamily:a.app.fontFamily})},0),s.V.info("USE_SETTINGS","Settings loaded successfully",e.data)}else s.V.warn("USE_SETTINGS","Failed to load settings, using defaults",null==e?void 0:e.error),t(g),c("기본 설정을 사용합니다.")}catch(e){s.V.error("USE_SETTINGS","Error loading settings",e),t(g),c(e instanceof Error?e.message:"설정 로드 중 오류가 발생했습니다.")}finally{l(!1),d.current=!1}},[]),f=(0,a.useCallback)(async(r,a,l)=>{if(e&&!u.current)try{n(!0),u.current=!0,t(e=>e?{...e,[r]:{...e[r],[a]:l}}:null);let e="".concat(r,".").concat(String(a));s.V.debug("USE_SETTINGS","Updating setting: ".concat(e),{value:l});let o=await window.electronAPI.settings.set(e,l);if(o.success){if(s.V.info("USE_SETTINGS","Setting updated successfully: ".concat(e),{value:l}),"app"===r&&"theme"===a)try{localStorage.setItem("loop-theme",l),s.V.debug("USE_SETTINGS","Theme also saved to localStorage",{theme:l})}catch(e){s.V.warn("USE_SETTINGS","Failed to save theme to localStorage",e)}if("app"===r&&("fontSize"===a||"fontFamily"===a)){let e=document.documentElement;"fontSize"===a?e.style.setProperty("--app-font-size","".concat(l,"px")):"fontFamily"===a&&e.style.setProperty("--app-font-family",l),s.V.debug("USE_SETTINGS","CSS font variables updated immediately",{key:a,value:l})}}else throw Error(o.error||"Failed to save ".concat(e))}catch(e){s.V.error("USE_SETTINGS","Error updating setting: ".concat(r,".").concat(String(a)),e),await m(),c("설정 저장 실패: ".concat(e instanceof Error?e.message:"알 수 없는 오류"))}finally{n(!1),u.current=!1}},[e,m]),h=(0,a.useCallback)(async()=>{if(e&&!u.current)try{var t,r;for(let t of(u.current=!0,n(!0),c(null),s.V.info("USE_SETTINGS","Saving all settings..."),["app","keyboard","ui","performance","account","notifications"])){let r=e[t];if(r){s.V.debug("USE_SETTINGS","Saving category: ".concat(t),r);let e=await window.electronAPI.settings.set(t,r);if(!e.success)throw Error("Failed to save ".concat(t," settings: ").concat(e.error))}}if(s.V.info("USE_SETTINGS","All settings saved successfully"),null==(r=window.electronAPI)||null==(t=r.notifications)?void 0:t.show)try{await window.electronAPI.notifications.show("설정 저장 완료","모든 설정이 성공적으로 저장되었습니다.")}catch(e){}}catch(e){s.V.error("USE_SETTINGS","Failed to save all settings",e),c("전체 설정 저장 실패: ".concat(e instanceof Error?e.message:"알 수 없는 오류"))}finally{n(!1),u.current=!1}},[e]),b=(0,a.useCallback)(async()=>{if(!u.current)try{u.current=!0,n(!0),c(null),s.V.info("USE_SETTINGS","Resetting all settings...");let e=await window.electronAPI.settings.reset();if(e.success)t(g),await m(),s.V.info("USE_SETTINGS","Settings reset successfully");else throw Error(e.error||"Failed to reset settings")}catch(e){s.V.error("USE_SETTINGS","Failed to reset settings",e),c("설정 초기화 실패: ".concat(e instanceof Error?e.message:"알 수 없는 오류"))}finally{n(!1),u.current=!1}},[m]);return(0,a.useEffect)(()=>{m()},[m]),(0,a.useEffect)(()=>{try{var e,r;let a=null==(e=(r=window.electronAPI.settings).onDidChange)?void 0:e.call(r,e=>{e&&e.keyPath&&t(t=>{if(!t)return t;let r=e.keyPath.split(".").filter(Boolean);if(0===r.length)return t;if(1===r.length){let a=r[0];return Object.assign({},t,{[a]:e.value})}let a=r[0],s=r.slice(1);if(!a)return t;let l=Object.assign({},t[a]),o=l||{};for(let e=0;e<s.length-1;e++){let t=s[e];t&&(t in o||(o[t]={}),o=o[t])}let n=s[s.length-1];return n&&(o[n]=e.value),Object.assign({},t,{[a]:l})})});return()=>{"function"==typeof a&&a()}}catch(e){return()=>{}}},[]),(0,a.useEffect)(()=>{if(i){let e=setTimeout(()=>{c(null)},1e4);return()=>clearTimeout(e)}},[i]),{settings:e,loading:r,saving:o,error:i,updateSetting:f,saveAllSettings:h,resetSettings:b,setSettings:t}}},662:(e,t,r)=>{"use strict";r.d(t,{V:()=>n});var a=r(2772),s=r(4338),l=function(e){return e[e.DEBUG=0]="DEBUG",e[e.INFO=1]="INFO",e[e.WARN=2]="WARN",e[e.ERROR=3]="ERROR",e}({});class o{setLogLevel(e){this.logLevel=e}log(e,t,r,a){if(e<this.logLevel)return;let o={level:e,component:t,message:r,data:a,timestamp:new Date};this.logs.push(o),this.logs.length>this.maxLogs&&this.logs.shift();let n=o.timestamp.toISOString(),i=l[e],c="[".concat(n,"] ").concat(i," [").concat(t,"]"),d="true"===s.env.VERBOSE_LOGGING,u="true"===s.env.DEBUG;if(e>=this.logLevel||u)switch(e){case 0:case 1:break;case 2:console.warn("⚠️ ".concat(c),r,d&&a?a:"");break;case 3:console.error("❌ ".concat(c),r,a||"")}}debug(e,t,r){this.log(0,e,t,r)}info(e,t,r){this.log(1,e,t,r)}warn(e,t,r){this.log(2,e,t,r)}error(e,t,r){this.log(3,e,t,r)}getLogs(){return[...this.logs]}clearLogs(){this.logs=[]}getLogsByComponent(e){return this.logs.filter(t=>t.component===e)}getLogsByLevel(e){return this.logs.filter(t=>t.level>=e)}time(e){this.timers.set(e,performance.now()),this.debug("TIMER","Timer started: ".concat(e))}timeEnd(e){let t=this.timers.get(e);if(void 0===t)return void this.warn("TIMER","Timer not found: ".concat(e));let r=performance.now()-t;this.timers.delete(e),this.info("TIMER","Timer completed: ".concat(e),{duration:"".concat(r.toFixed(3),"ms")})}constructor(){var e;(0,a._)(this,"logLevel",0),(0,a._)(this,"logs",[]),(0,a._)(this,"maxLogs",1e3),(0,a._)(this,"timers",new Map);let t=null==(e=s.env.LOG_LEVEL)?void 0:e.toLowerCase();"true"===s.env.DEBUG||"debug"===t?this.logLevel=0:"info"===t?this.logLevel=1:"warn"===t?this.logLevel=2:"error"===t?this.logLevel=3:this.logLevel=0}}let n=new o},815:(e,t,r)=>{"use strict";r.d(t,{eu:()=>c});var a=r(4568),s=r(7620),l=r(9594),o=r(662);let n={root:"relative inline-flex items-center justify-center overflow-hidden rounded-full select-none",sizes:{sm:"h-8 w-8 text-xs",md:"h-10 w-10 text-sm",lg:"h-12 w-12 text-base",xl:"h-16 w-16 text-lg"},image:"aspect-square h-full w-full object-cover object-center",fallback:"flex h-full w-full items-center justify-center bg-slate-100 text-slate-600 font-medium",icon:"h-1/2 w-1/2 text-slate-400",status:{base:"absolute bottom-0 right-0 rounded-full border-2 border-white",sizes:{sm:"h-2 w-2",md:"h-2.5 w-2.5",lg:"h-3 w-3",xl:"h-4 w-4"},variants:{online:"bg-green-500",away:"bg-yellow-500",busy:"bg-red-500",offline:"bg-slate-400"}}};function i(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter(Boolean).join(" ")}let c=(0,s.forwardRef)((e,t)=>{let{size:r="md",src:c,alt:d,fallback:u,status:g,className:m,children:f,onClick:h,"aria-label":b,...p}=e,[v,x]=(0,s.useState)(!1),[y,w]=(0,s.useState)(!1),E=i(n.root,n.sizes[r],h&&"cursor-pointer hover:opacity-80 transition-opacity",m),k=()=>{h&&(o.V.info("AVATAR","Avatar clicked",{size:r,hasImage:!!c}),h())},T=c&&!y&&v,N=!c||y||!v;return(0,a.jsxs)("div",{ref:t,className:E,onClick:h?k:void 0,onKeyDown:h?e=>{h&&("Enter"===e.key||" "===e.key)&&(e.preventDefault(),k())}:void 0,role:h?"button":void 0,tabIndex:h?0:void 0,"aria-label":b||d,...p,children:[c&&(0,a.jsx)("img",{src:c,alt:d||"사용자 아바타",className:i(n.image,T?"opacity-100":"opacity-0"),onLoad:()=>{x(!0),w(!1)},onError:()=>{w(!0),x(!1)}}),N&&(0,a.jsx)("div",{className:n.fallback,children:f||u?f||u:(0,a.jsx)(l.A,{className:n.icon,"aria-hidden":"true"})}),g&&(0,a.jsx)("span",{className:i(n.status.base,n.status.sizes[r],n.status.variants[g]),"aria-label":"상태: ".concat(g)})]})});c.displayName="Avatar",(0,s.forwardRef)((e,t)=>{let{src:r,alt:s,className:l,onLoadingStatusChange:o,...c}=e;return(0,a.jsx)("img",{ref:t,src:r,alt:s,className:i(n.image,l),onLoad:()=>{null==o||o(!1)},onError:()=>{null==o||o(!1)},...c})}).displayName="AvatarImage",(0,s.forwardRef)((e,t)=>{let{className:r,children:s,...o}=e;return(0,a.jsx)("div",{ref:t,className:i(n.fallback,r),...o,children:s||(0,a.jsx)(l.A,{className:n.icon,"aria-hidden":"true"})})}).displayName="AvatarFallback"},934:(e,t,r)=>{"use strict";r.d(t,{T:()=>i});var a=r(4568),s=r(7620),l=r(662);let o={base:"flex w-full rounded-md border border-slate-300 bg-white px-3 py-2 text-sm ring-offset-white placeholder:text-slate-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 dark:border-slate-700 dark:bg-slate-900 dark:text-slate-50 dark:ring-offset-slate-950 dark:placeholder:text-slate-400 dark:focus:ring-blue-400",sizes:{sm:"min-h-[60px] text-xs",md:"min-h-[80px] text-sm",lg:"min-h-[120px] text-base"},variants:{default:"border-slate-300 focus:ring-blue-500",error:"border-red-300 focus:ring-red-500 focus:border-red-500",success:"border-green-300 focus:ring-green-500 focus:border-green-500"},resize:{none:"resize-none",vertical:"resize-y",horizontal:"resize-x",both:"resize"}};function n(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter(Boolean).join(" ")}let i=(0,s.forwardRef)((e,t)=>{let{className:r,size:i="md",variant:c="default",resize:d="vertical",autoResize:u=!1,maxLength:g,showCount:m=!1,label:f,error:h,helperText:b,required:p=!1,disabled:v,value:x,onChange:y,onFocus:w,onBlur:E,...k}=e,[T,N]=(0,s.useState)(!1),[S,I]=(0,s.useState)(0),R=(0,s.useRef)(null);(0,s.useEffect)(()=>{t&&"function"==typeof t?t(R.current):t&&(t.current=R.current)},[t]),(0,s.useEffect)(()=>{if(u&&R.current){let e=R.current;e.style.height="auto",e.style.height="".concat(e.scrollHeight,"px")}},[x,u]),(0,s.useEffect)(()=>{"string"==typeof x&&I(x.length)},[x]);let O=n(o.base,o.sizes[i],o.variants[h?"error":c],o.resize[d],u&&"overflow-hidden",r),V=(0,s.useId)(),j=f?"textarea-".concat(V,"-label"):void 0,A=h?"textarea-".concat(V,"-error"):void 0,C=b?"textarea-".concat(V,"-helper"):void 0;return(0,a.jsxs)("div",{className:"w-full",children:[f&&(0,a.jsxs)("label",{id:j,htmlFor:k.id,className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:[f,p&&(0,a.jsx)("span",{className:"text-red-500 ml-1",children:"*"})]}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("textarea",{ref:R,className:O,disabled:v,value:x,onChange:e=>{let t=e.target.value;if((!g||!(t.length>g))&&(I(t.length),y&&(y(e),l.V.debug("TEXTAREA","Value changed",{length:t.length,maxLength:g,autoResize:u})),u&&R.current)){let e=R.current;e.style.height="auto",e.style.height="".concat(e.scrollHeight,"px")}},onFocus:e=>{N(!0),null==w||w(e),l.V.debug("TEXTAREA","Focused")},onBlur:e=>{N(!1),null==E||E(e),l.V.debug("TEXTAREA","Blurred")},maxLength:g,"aria-labelledby":j,"aria-describedby":n(A&&A,C&&C)||void 0,"aria-invalid":!!h,"aria-required":p,...k}),(m||g)&&(0,a.jsxs)("div",{className:"absolute bottom-2 right-2 text-xs text-slate-500 dark:text-slate-400 bg-white dark:bg-slate-900 px-1 rounded",children:[S,g&&"/".concat(g)]})]}),h&&(0,a.jsx)("p",{id:A,className:"mt-2 text-sm text-red-600 dark:text-red-400",role:"alert",children:h}),b&&!h&&(0,a.jsx)("p",{id:C,className:"mt-2 text-sm text-slate-500 dark:text-slate-400",children:b})]})});i.displayName="Textarea"},1455:(e,t,r)=>{"use strict";r.d(t,{Au:()=>i,Mc:()=>c});var a=r(4568),s=r(7620),l=r(662);let o=(0,s.createContext)(void 0),n={isMonitoring:!1,isAIOpen:!1,startTime:null,sessionData:{wpm:0,words:0,time:0}};function i(e){let{children:t}=e,[r,i]=(0,s.useState)(n);(0,s.useLayoutEffect)(()=>{try{let e=localStorage.getItem("monitoring-state");if(e){let t=JSON.parse(e);i(e=>({...e,isMonitoring:!1,isAIOpen:t.isAIOpen||!1,startTime:null,sessionData:{...e.sessionData,...t.sessionData}})),l.V.debug("MONITORING_CONTEXT","State restored from localStorage (monitoring disabled)",{...t,isMonitoring:!1})}}catch(e){l.V.error("MONITORING_CONTEXT","Failed to load state from localStorage",e)}},[]),(0,s.useLayoutEffect)(()=>{{let e=setTimeout(()=>{try{localStorage.setItem("monitoring-state",JSON.stringify(r)),l.V.debug("MONITORING_CONTEXT","State saved to localStorage",r)}catch(e){l.V.error("MONITORING_CONTEXT","Failed to save state to localStorage",e)}},100);return()=>clearTimeout(e)}},[r]);let c=(0,s.useCallback)(async()=>{try{l.V.info("MONITORING_CONTEXT","\uD83D\uDE80 모니터링 시작 요청"),i(e=>({...e,isMonitoring:!0,startTime:new Date}));let e=await window.electronAPI.keyboard.startMonitoring();if(!e.success)throw i(e=>({...e,isMonitoring:!1,startTime:null})),e.error&&(e.error.includes("권한")||e.error.includes("permission")||e.error.includes("accessibility"))?(l.V.warn("MONITORING_CONTEXT","⚠️ 권한 필요:",e.error),alert("접근성 권한이 필요합니다.\n\n시스템 설정 → 보안 및 개인정보보호 → 개인정보보호 → 접근성\n에서 Loop 앱을 허용해주세요.")):l.V.error("MONITORING_CONTEXT","❌ 모니터링 시작 실패:",e.error),Error(e.error||"Failed to start monitoring");l.V.info("MONITORING_CONTEXT","✅ 모니터링 시작 성공!")}catch(e){throw l.V.error("MONITORING_CONTEXT","Error starting monitoring",e),i(e=>({...e,isMonitoring:!1,startTime:null})),e}},[]),d=(0,s.useCallback)(async()=>{try{l.V.info("MONITORING_CONTEXT","Stopping monitoring"),i(e=>({...e,isMonitoring:!1,startTime:null}));let e=await window.electronAPI.keyboard.stopMonitoring();if(!e.success)throw i(e=>({...e,isMonitoring:!0,startTime:new Date})),l.V.error("MONITORING_CONTEXT","Failed to stop monitoring",e.error),Error(e.error||"Failed to stop monitoring");l.V.info("MONITORING_CONTEXT","Monitoring stopped successfully")}catch(e){throw i(e=>({...e,isMonitoring:!0,startTime:new Date})),l.V.error("MONITORING_CONTEXT","Error stopping monitoring",e),e}},[]),u=(0,s.useCallback)(()=>{i(e=>({...e,isAIOpen:!e.isAIOpen})),l.V.info("MONITORING_CONTEXT","AI Panel toggled")},[]),g=(0,s.useCallback)(e=>{i(t=>({...t,sessionData:{...t.sessionData,...e}}))},[]),m=(0,s.useMemo)(()=>({state:r,startMonitoring:c,stopMonitoring:d,toggleAI:u,updateSessionData:g}),[r,c,d,u,g]);return(0,a.jsx)(o.Provider,{value:m,children:t})}function c(){let e=(0,s.useContext)(o);if(void 0===e)throw Error("useMonitoring must be used within a MonitoringProvider");return e}},3199:(e,t,r)=>{"use strict";r.d(t,{J0:()=>a.useState});var a=r(7620)},3398:()=>{},4019:(e,t,r)=>{"use strict";r.d(t,{p:()=>g,D:()=>m});var a=r(4568),s=r(7620),l=r(5958),o=r(8130),n=r(5173),i=r(2463),c=r(662);let d={base:"flex h-10 w-full rounded-md border border-slate-300 bg-white px-3 py-2 text-sm ring-offset-white file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-slate-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 dark:border-slate-700 dark:bg-slate-900 dark:text-slate-50 dark:ring-offset-slate-950 dark:placeholder:text-slate-400 dark:focus:ring-blue-400",sizes:{sm:"h-8 text-xs",md:"h-10 text-sm",lg:"h-12 text-base"},variants:{default:"border-slate-300 focus:ring-blue-500",error:"border-red-300 focus:ring-red-500 focus:border-red-500",success:"border-green-300 focus:ring-green-500 focus:border-green-500"},withIcon:{left:"pl-10",right:"pr-10"},container:"relative w-full",iconContainer:{left:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 dark:text-slate-500",right:"absolute right-3 top-1/2 transform -translate-y-1/2 text-slate-400 dark:text-slate-500"},iconButton:"absolute right-3 top-1/2 transform -translate-y-1/2 text-slate-400 hover:text-slate-600 dark:text-slate-500 dark:hover:text-slate-300 cursor-pointer transition-colors"};function u(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter(Boolean).join(" ")}let g=(0,s.forwardRef)((e,t)=>{let{className:r,type:n="text",size:g="md",variant:m="default",leftIcon:f,rightIcon:h,clearable:b=!1,label:p,error:v,helperText:x,required:y=!1,disabled:w,value:E,onChange:k,onClear:T,...N}=e,[S,I]=(0,s.useState)(!1),[R,O]=(0,s.useState)(!1),V="password"===n,j=b&&void 0!==E&&""!==E&&!w,A=V&&!w,C=u(d.base,d.sizes[g],d.variants[v?"error":m],!!f&&d.withIcon.left,(!!h||!!j||!!A)&&d.withIcon.right,r),M=V&&S?"text":n,P=(0,s.useId)(),_=p?"input-".concat(P,"-label"):void 0,L=v?"input-".concat(P,"-error"):void 0,G=x?"input-".concat(P,"-helper"):void 0;return(0,a.jsxs)("div",{className:"w-full",children:[p&&(0,a.jsxs)("label",{id:_,htmlFor:N.id,className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:[p,y&&(0,a.jsx)("span",{className:"text-red-500 ml-1",children:"*"})]}),(0,a.jsxs)("div",{className:d.container,children:[f&&(0,a.jsx)("div",{className:d.iconContainer.left,children:f}),(0,a.jsx)("input",{ref:t,type:M,className:C,disabled:w,value:E,onChange:k,onFocus:e=>{var t;O(!0),null==(t=N.onFocus)||t.call(N,e)},onBlur:e=>{var t;O(!1),null==(t=N.onBlur)||t.call(N,e)},"aria-labelledby":_,"aria-describedby":u(L&&L,G&&G)||void 0,"aria-invalid":!!v,"aria-required":y,...N}),(0,a.jsx)("div",{className:d.iconContainer.right,children:(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[j&&(0,a.jsx)("button",{type:"button",className:u(d.iconButton,"p-0.5"),onClick:()=>{T?T():k&&k({target:{value:""},currentTarget:{value:""}}),c.V.debug("INPUT","Input cleared")},"aria-label":"입력 내용 지우기",tabIndex:-1,children:(0,a.jsx)(i.A,{className:"h-4 w-4"})}),A&&(0,a.jsx)("button",{type:"button",className:u(d.iconButton,"p-0.5"),onClick:()=>{I(!S),c.V.debug("INPUT","Password visibility toggled: ".concat(!S))},"aria-label":S?"패스워드 숨기기":"패스워드 보기",tabIndex:-1,children:S?(0,a.jsx)(o.A,{className:"h-4 w-4"}):(0,a.jsx)(l.A,{className:"h-4 w-4"})}),h&&!j&&!A&&h]})})]}),v&&(0,a.jsx)("p",{id:L,className:"mt-2 text-sm text-red-600 dark:text-red-400",role:"alert",children:v}),x&&!v&&(0,a.jsx)("p",{id:G,className:"mt-2 text-sm text-slate-500 dark:text-slate-400",children:x})]})});g.displayName="Input";let m=(0,s.forwardRef)((e,t)=>(0,a.jsx)(g,{ref:t,type:"search",leftIcon:(0,a.jsx)(n.A,{className:"h-4 w-4"}),placeholder:"검색...",clearable:!0,...e}));m.displayName="SearchInput"},4461:(e,t,r)=>{"use strict";r.d(t,{Rf:()=>a.forwardRef,n:()=>a.createElement});var a=r(7620)},4775:(e,t,r)=>{"use strict";r.d(t,{m_:()=>i});var a=r(4568),s=r(7620),l=r(662);let o={trigger:"inline-block relative",tooltip:"absolute z-50 px-3 py-2 text-xs font-medium text-white bg-slate-900 rounded-md shadow-lg whitespace-nowrap pointer-events-none transition-opacity duration-200",arrow:"absolute w-2 h-2 bg-slate-900 transform rotate-45",positions:{top:{tooltip:"bottom-full left-1/2 transform -translate-x-1/2 mb-3",arrow:"top-full left-1/2 transform -translate-x-1/2 -translate-y-1/2"},bottom:{tooltip:"top-full left-1/2 transform -translate-x-1/2 mt-3",arrow:"bottom-full left-1/2 transform -translate-x-1/2 translate-y-1/2"},left:{tooltip:"right-full top-1/2 transform -translate-y-1/2 mr-3",arrow:"left-full top-1/2 transform -translate-y-1/2 -translate-x-1/2"},right:{tooltip:"left-full top-1/2 transform -translate-y-1/2 ml-3",arrow:"right-full top-1/2 transform -translate-y-1/2 translate-x-1/2"}},variants:{default:"bg-slate-900 text-white",light:"bg-white text-slate-900 border border-slate-200 shadow-md",error:"bg-red-600 text-white",success:"bg-green-600 text-white",warning:"bg-yellow-600 text-white"}};function n(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter(Boolean).join(" ")}function i(e){let{content:t,children:r,side:i="top",variant:c="default",delay:d=200,disabled:u=!1,showArrow:g=!0,trigger:m="hover",open:f,onOpenChange:h,className:b,sideOffset:p=0}=e,[v,x]=(0,s.useState)(!1),[y,w]=(0,s.useState)(!1);(0,s.useRef)(null);let E=(0,s.useRef)(null),k=(0,s.useRef)(null),T=void 0!==f?f:v,N=void 0!==f;(0,s.useEffect)(()=>(w(!0),()=>{k.current&&clearTimeout(k.current)}),[]);let S=e=>{u||(N?null==h||h(e):x(e),l.V.debug("TOOLTIP","Tooltip ".concat(e?"opened":"closed"),{side:i,trigger:m}))},I=()=>{k.current&&clearTimeout(k.current),k.current=setTimeout(()=>{S(!0)},d)},R=()=>{k.current&&clearTimeout(k.current),S(!1)},O=()=>{"hover"===m&&I()},V=()=>{"hover"===m&&R()},j=()=>{"click"===m&&S(!T)},A=()=>{"focus"===m&&I()},C=()=>{"focus"===m&&R()},M=e=>{"Escape"===e.key&&T&&R()},P=(0,s.isValidElement)(r)?(()=>{let e=r.props||{};return(0,s.cloneElement)(r,{onMouseEnter:t=>{var r;null==(r=e.onMouseEnter)||r.call(e,t),O()},onMouseLeave:t=>{var r;null==(r=e.onMouseLeave)||r.call(e,t),V()},onClick:t=>{var r;null==(r=e.onClick)||r.call(e,t),j()},onFocus:t=>{var r;null==(r=e.onFocus)||r.call(e,t),A()},onBlur:t=>{var r;null==(r=e.onBlur)||r.call(e,t),C()},onKeyDown:t=>{var r;null==(r=e.onKeyDown)||r.call(e,t),M(t)},"aria-describedby":T?"tooltip":void 0})})():r,_=n(o.tooltip,o.positions[i].tooltip,o.variants[c],T?"opacity-100":"opacity-0 pointer-events-none",b),L=n(o.arrow,o.positions[i].arrow,"light"===c?"bg-white border-l border-t border-slate-200":"bg-slate-900");return y?(0,a.jsxs)("div",{className:o.trigger,children:[P,T&&t&&(0,a.jsxs)("div",{ref:E,id:"tooltip",role:"tooltip",className:_,style:{["top"===i||"bottom"===i?"marginTop":"marginLeft"]:"top"===i||"left"===i?-p:p},children:[t,g&&(0,a.jsx)("div",{className:L,"aria-hidden":"true"})]})]}):(0,a.jsx)("div",{className:o.trigger,children:r})}},5803:(e,t,r)=>{"use strict";r.d(t,{K:()=>l});var a=r(4568),s=r(7620);function l(e){let{children:t,fallback:r=null}=e,[l,o]=(0,s.useState)(!1);return(0,s.useEffect)(()=>{o(!0)},[]),(0,a.jsx)(a.Fragment,{children:l?t:r})}},6439:(e,t,r)=>{"use strict";r.d(t,{E:()=>n});var a=r(4568),s=r(8497),l=r(662);let o={base:"inline-flex items-center rounded-full text-xs font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",sizes:{sm:"px-2 py-0.5 text-xs",md:"px-2.5 py-1 text-xs",lg:"px-3 py-1.5 text-sm"},variants:{default:"bg-slate-100 text-slate-800 hover:bg-slate-200",primary:"bg-blue-100 text-blue-800 hover:bg-blue-200",success:"bg-green-100 text-green-800 hover:bg-green-200",warning:"bg-yellow-100 text-yellow-800 hover:bg-yellow-200",danger:"bg-red-100 text-red-800 hover:bg-red-200",purple:"bg-purple-100 text-purple-800 hover:bg-purple-200",orange:"bg-orange-100 text-orange-800 hover:bg-orange-200",solid:"bg-slate-900 text-white hover:bg-slate-800",outline:"border border-slate-300 bg-transparent text-slate-700 hover:bg-slate-50"},interactive:"cursor-pointer select-none",disabled:"opacity-50 cursor-not-allowed pointer-events-none"},n=(0,s.Rf)((e,t)=>{let{variant:r="default",size:s="md",interactive:n=!1,disabled:i=!1,className:c,children:d,onClick:u,role:g,"aria-label":m,"aria-pressed":f,...h}=e,b=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter(Boolean).join(" ")}(o.base,o.variants[r],o.sizes[s],n&&o.interactive,i&&o.disabled,c),p=()=>{!i&&u&&(l.V.info("BADGE","Badge clicked: ".concat(r),{size:s,interactive:n}),u())};return(0,a.jsx)("span",{ref:t,className:b,onClick:n?p:void 0,onKeyDown:n?e=>{!i&&u&&("Enter"===e.key||" "===e.key)&&(e.preventDefault(),p())}:void 0,role:n?g||"button":g,tabIndex:n&&!i?0:void 0,"aria-label":m,"aria-pressed":n?f:void 0,"aria-disabled":i,...h,children:d})});n.displayName="Badge"},6740:(e,t,r)=>{"use strict";r.d(t,{$:()=>i});var a=r(4568),s=r(8497),l=r(8158),o=r(9369);let n={base:"inline-flex items-center justify-center rounded-lg font-medium transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none",variants:{primary:"bg-blue-600 text-white hover:bg-blue-700 focus:ring-blue-500 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-400",secondary:"bg-slate-200 text-slate-900 hover:bg-slate-300 focus:ring-slate-500 dark:bg-slate-700 dark:text-slate-100 dark:hover:bg-slate-600 dark:focus:ring-slate-400",outline:"border border-slate-300 bg-transparent text-slate-700 hover:bg-slate-50 focus:ring-slate-500 dark:border-slate-600 dark:text-slate-300 dark:hover:bg-slate-800 dark:focus:ring-slate-400",ghost:"text-slate-700 hover:bg-slate-100 focus:ring-slate-500 dark:text-slate-300 dark:hover:bg-slate-800 dark:focus:ring-slate-400",destructive:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500 dark:bg-red-600 dark:hover:bg-red-700 dark:focus:ring-red-400"},sizes:{sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-sm",lg:"px-6 py-3 text-base",icon:"p-2"}},i=(0,s.Rf)((e,t)=>{let{variant:r="primary",size:s="md",loading:i=!1,loadingText:c,disabled:d,className:u,children:g,"aria-label":m,...f}=e,h=d||i,b=(0,l.cn)(n.base,n.variants[r],n.sizes[s],u);return(0,a.jsxs)("button",{ref:t,className:b,disabled:h,"aria-label":m,"aria-disabled":h,onClick:e=>{var t;if(h){e.preventDefault(),e.stopPropagation();return}null==(t=f.onClick)||t.call(f,e)},...f,children:[i&&(0,a.jsx)(o.A,{className:"w-4 h-4 mr-2 animate-spin","aria-hidden":"true"}),i&&c?c:g]})});i.displayName="Button"},7117:(e,t,r)=>{"use strict";r.d(t,{D:()=>c,N:()=>i});var a=r(4568),s=r(7620),l=r(662);let o=(0,s.createContext)(void 0),n={root:"transition-colors duration-200"};function i(e){let{children:t,defaultTheme:r="system"}=e,[i,c]=(0,s.useState)(()=>r),[d,u]=(0,s.useState)(()=>{try{let e=document.documentElement,t=e.getAttribute("data-theme");if("dark"===t||"light"===t)return t;if(e.classList.contains("dark"))return"dark";return e.classList.contains("light"),"light"}catch(e){return"light"}}),g=(0,s.useCallback)(()=>window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light",[]),m=(0,s.useCallback)(e=>"system"===e?g():e,[g]),f=(0,s.useCallback)(async e=>{try{l.V.info("THEME_PROVIDER","Theme changing",{from:i,to:e}),c(e);let t=m(e);u(t);try{let r=await window.electronAPI.settings.set("theme",e);r.success?l.V.info("THEME_PROVIDER","Theme saved to backend",{theme:e,resolved:t}):l.V.warn("THEME_PROVIDER","Failed to save theme to backend",r.error)}catch(e){l.V.error("THEME_PROVIDER","Error saving theme to backend",e)}let r=document.documentElement,a=document.body;r.classList.remove("light","dark"),r.classList.add(t),r.setAttribute("data-theme",t),r.style.colorScheme=t,a&&(a.setAttribute("data-theme",t),a.style.colorScheme=t),localStorage.setItem("loop-theme",e),l.V.info("THEME_PROVIDER","Theme applied successfully",{theme:e,resolved:t,htmlClass:r.className})}catch(e){l.V.error("THEME_PROVIDER","Error setting theme",e)}},[i,m]),h=(0,s.useCallback)(()=>{f("light"===d?"dark":"light")},[d,f]);return(0,s.useEffect)(()=>{(async()=>{try{var e,t,a,s,o,n;let d=document.documentElement,g="light";d.classList.contains("dark")?g="dark":d.classList.contains("light")&&(g="light");let f=d.getAttribute("data-theme");("dark"===f||"light"===f)&&(g=f);let h=r,b="default";try{if(null==(t=window.electronAPI)||null==(e=t.settings)?void 0:e.get){let e=await window.electronAPI.settings.get("theme");if(e.success&&e.data){let t=e.data;["light","dark","system"].includes(t)&&(h=t,b="backend",l.V.info("THEME_PROVIDER","Theme loaded from backend",{theme:h}))}}}catch(e){l.V.warn("THEME_PROVIDER","Backend not available, using localStorage",e);try{let e=localStorage.getItem("loop-theme");e&&["light","dark","system"].includes(e)&&(h=e,b="localStorage",l.V.info("THEME_PROVIDER","Theme loaded from localStorage",{theme:h}))}catch(e){l.V.warn("THEME_PROVIDER","localStorage not available",e)}}h!==i&&c(h);let p=m(h);p!==g?(u(p),d.classList.remove("light","dark"),d.classList.add(p),d.setAttribute("data-theme",p),d.style.setProperty("color-scheme",p),null==(a=document.body)||a.setAttribute("data-theme",p),null==(s=document.body)||s.style.setProperty("color-scheme",p),l.V.info("THEME_PROVIDER","Theme synchronized with calculation",{calculated:p,current:g})):(u(g),d.setAttribute("data-theme",g),d.style.setProperty("color-scheme",g),null==(o=document.body)||o.setAttribute("data-theme",g),null==(n=document.body)||n.style.setProperty("color-scheme",g),l.V.debug("THEME_PROVIDER","Theme already synchronized",{theme:h,resolved:g})),l.V.info("THEME_PROVIDER","Initial theme loaded successfully",{theme:h,resolved:p,source:b,htmlClasses:d.className})}catch(r){l.V.error("THEME_PROVIDER","Error loading initial theme",r);let e=document.documentElement,t=document.body;e.classList.remove("light","dark"),e.classList.add("light"),e.setAttribute("data-theme","light"),e.style.setProperty("color-scheme","light"),t&&(t.setAttribute("data-theme","light"),t.style.setProperty("color-scheme","light")),u("light")}})()},[]),(0,s.useEffect)(()=>{let e=window.matchMedia("(prefers-color-scheme: dark)"),t=()=>{if("system"===i){let e=g();u(e);let t=document.documentElement,r=document.body;t.classList.remove("light","dark"),t.classList.add(e),t.setAttribute("data-theme",e),t.style.setProperty("color-scheme",e),r&&(r.setAttribute("data-theme",e),r.style.setProperty("color-scheme",e)),l.V.info("THEME_PROVIDER","System theme changed",{theme:"system",resolved:e})}};return e.addEventListener("change",t),()=>e.removeEventListener("change",t)},[i,g]),(0,a.jsx)(o.Provider,{value:{theme:i,resolvedTheme:d,setTheme:f,toggleTheme:h},children:(0,a.jsx)("div",{className:n.root,suppressHydrationWarning:!0,children:t})})}function c(){let e=(0,s.useContext)(o);if(void 0===e)throw Error("useTheme must be used within a ThemeProvider");return e}},7718:(e,t,r)=>{"use strict";r.d(t,{z:()=>o});var a=r(4568),s=r(8158);let l={container:"w-full bg-gray-200 rounded-full overflow-hidden",bar:"h-full transition-all duration-500 ease-out rounded-full",colors:{blue:"bg-blue-600",green:"bg-green-600",purple:"bg-purple-600",orange:"bg-orange-600",red:"bg-red-600"},sizes:{sm:"h-2",md:"h-3",lg:"h-4"},animated:"bg-gradient-to-r bg-[length:200%_100%] animate-shimmer",label:"text-sm font-medium text-gray-700 mb-2"};function o(e){let{value:t,color:r="blue",size:o="md",showLabel:n=!1,label:i,animated:c=!1,className:d,"aria-label":u}=e,g=Math.max(0,Math.min(100,t)),m=(0,s.cn)(l.container,l.sizes[o],d),f=(0,s.cn)(l.bar,l.colors[r],c&&l.animated),h=i||"".concat(g,"%");return(0,a.jsxs)("div",{className:"w-full",children:[n&&(0,a.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,a.jsx)("span",{className:l.label,children:h}),(0,a.jsxs)("span",{className:"text-sm font-semibold text-gray-900",children:[g,"%"]})]}),(0,a.jsx)("div",{className:m,role:"progressbar","aria-valuenow":g,"aria-valuemin":0,"aria-valuemax":100,"aria-label":u||"Progress: ".concat(g,"%"),children:(0,a.jsx)("div",{className:f,style:{width:"".concat(g,"%")},"aria-hidden":"true"})})]})}},8158:(e,t,r)=>{"use strict";r.d(t,{cn:()=>l});var a=r(2987),s=r(607);function l(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,s.QP)((0,a.$)(t))}},8497:(e,t,r)=>{"use strict";r.d(t,{Rf:()=>a.forwardRef});var a=r(7620)},9174:(e,t,r)=>{"use strict";r.d(t,{n:()=>n});var a=r(4568),s=r(9324),l=r(8158);let o={container:"p-6 transition-all duration-200",header:"flex items-center justify-between mb-4",iconContainer:"w-10 h-10 rounded-lg flex items-center justify-center",iconColors:{blue:"bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400",green:"bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400",purple:"bg-purple-100 dark:bg-purple-900/30 text-purple-600 dark:text-purple-400",orange:"bg-orange-100 dark:bg-orange-900/30 text-orange-600 dark:text-orange-400",red:"bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400"},value:"text-2xl font-bold text-slate-900 dark:text-slate-100 mb-1",label:"text-sm text-slate-600 dark:text-slate-400 mb-2",change:"text-sm font-medium flex items-center gap-1",changeColors:{increase:"text-green-600 dark:text-green-400",decrease:"text-red-600 dark:text-red-400",neutral:"text-slate-500 dark:text-slate-400"}};function n(e){let{title:t,value:r,icon:n,change:i,color:c="blue",className:d,onClick:u}=e,g=!!u,m=(0,l.cn)(o.container,g&&"cursor-pointer hover:shadow-md",d),f=e=>"number"==typeof e?e.toLocaleString():e;return(0,a.jsxs)(s.Z,{variant:"default",padding:"sm",className:m,onClick:u,hoverable:g,role:g?"button":void 0,"aria-label":g?"".concat(t," 상세 보기"):void 0,children:[(0,a.jsxs)("div",{className:o.header,children:[(0,a.jsx)("div",{className:(0,l.cn)(o.iconContainer,o.iconColors[c]),children:(0,a.jsx)(n,{className:"w-5 h-5","aria-hidden":"true"})}),i&&(0,a.jsxs)("div",{className:(0,l.cn)(o.change,o.changeColors[i.type]),children:[(0,a.jsx)("span",{children:(e=>{let t=e>0?"+":"";return"".concat(t).concat(e,"%")})(i.value)}),i.period&&(0,a.jsxs)("span",{className:"text-xs text-slate-500 dark:text-slate-400",children:["(",i.period,")"]})]})]}),(0,a.jsx)("div",{className:o.value,"aria-label":"값: ".concat(f(r)),children:f(r)}),(0,a.jsx)("div",{className:o.label,children:t})]})}},9324:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var a=r(4568),s=r(8497),l=r(8158);let o={base:"rounded-lg transition-all duration-200 ease-in-out",variants:{default:"bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 shadow-sm dark:shadow-slate-900/20",elevated:"bg-white dark:bg-slate-800 shadow-lg dark:shadow-slate-900/30 border-0",outlined:"bg-transparent border-2 border-slate-300 dark:border-slate-600",writer:"bg-white dark:bg-slate-900/50 border border-slate-200 dark:border-slate-700 backdrop-blur-sm"},padding:{sm:"p-4",md:"p-6",lg:"p-8"},hover:{default:"hover:shadow-md dark:hover:shadow-slate-900/40 hover:border-slate-300 dark:hover:border-slate-600",elevated:"hover:shadow-xl dark:hover:shadow-slate-900/50 hover:-translate-y-1",outlined:"hover:border-slate-400 dark:hover:border-slate-500 hover:bg-slate-50 dark:hover:bg-slate-800/50",writer:"hover:shadow-lg dark:hover:shadow-slate-900/40 hover:bg-slate-50 dark:hover:bg-slate-800/60"}},n=(0,s.Rf)((e,t)=>{let{variant:r="default",padding:s="md",hoverable:n=!1,className:i,children:c,onClick:d,role:u,"aria-label":g,...m}=e,f=(0,l.cn)(o.base,o.variants[r],o.padding[s],n&&o.hover[r],d&&"cursor-pointer",i);return(0,a.jsx)("div",{ref:t,className:f,onClick:d,role:u,"aria-label":g,tabIndex:d?0:void 0,onKeyDown:d?e=>{("Enter"===e.key||" "===e.key)&&(e.preventDefault(),d())}:void 0,...m,children:c})});n.displayName="Card"}}]);